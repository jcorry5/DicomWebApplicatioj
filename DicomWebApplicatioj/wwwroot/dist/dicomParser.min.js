/*! dicom-parser - 1.7.6 - 2017-12-06 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/dicomParser */
(function(n,t){typeof exports=="object"&&typeof module=="object"?module.exports=t():typeof define=="function"&&define.amd?define("dicom-parser",[],t):typeof exports=="object"?exports["dicom-parser"]=t():n.dicomParser=t()})(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=43)}([function(n,t,i){"use strict";(function(n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function lt(){try{var n=new Uint8Array(1);return n.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},n.foo()===42&&typeof n.subarray=="function"&&n.subarray(1,1).byteLength===0}catch(t){return!1}}function h(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(n,t){if(h()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t),n.__proto__=r.prototype):(n===null&&(n=new r(t)),n.length=t),n}function r(n,t,i){if(!r.TYPED_ARRAY_SUPPORT&&!(this instanceof r))return new r(n,t,i);if(typeof n=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return p(this,n)}return g(this,n,t,i)}function g(n,t,i,r){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?yt(n,t,i,r):typeof t=="string"?vt(n,t,i):pt(n,t)}function nt(n){if(typeof n!="number")throw new TypeError('"size" argument must be a number');else if(n<0)throw new RangeError('"size" argument must not be negative');}function at(n,t,i,r){return(nt(t),t<=0)?e(n,t):i!==undefined?typeof r=="string"?e(n,t).fill(i,r):e(n,t).fill(i):e(n,t)}function p(n,t){if(nt(t),n=e(n,t<0?0:b(t)|0),!r.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)n[i]=0;return n}function vt(n,t,i){var u,f;if((typeof i!="string"||i==="")&&(i="utf8"),!r.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');return u=tt(t,i)|0,n=e(n,u),f=n.write(t,i),f!==u&&(n=n.slice(0,f)),n}function w(n,t){var r=t.length<0?0:b(t.length)|0,i;for(n=e(n,r),i=0;i<r;i+=1)n[i]=t[i]&255;return n}function yt(n,t,i,u){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(u||0))throw new RangeError("'length' is out of bounds");return t=i===undefined&&u===undefined?new Uint8Array(t):u===undefined?new Uint8Array(t,i):new Uint8Array(t,i,u),r.TYPED_ARRAY_SUPPORT?(n=t,n.__proto__=r.prototype):n=w(n,t),n}function pt(n,t){if(r.isBuffer(t)){var i=b(t.length)|0;return(n=e(n,i),n.length===0)?n:(t.copy(n,0,0,i),n)}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||vi(t.length)?e(n,0):w(n,t);if(t.type==="Buffer"&&d(t.data))return w(n,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function b(n){if(n>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return n|0}function wt(n){return+n!=n&&(n=0),r.alloc(+n)}function tt(n,t){var i,u;if(r.isBuffer(n))return n.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;if(typeof n!="string"&&(n=""+n),i=n.length,i===0)return 0;for(u=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case undefined:return a(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return ct(n).length;default:if(u)return a(n).length;t=(""+t).toLowerCase();u=!0}}function bt(n,t,i){var r=!1;if(((t===undefined||t<0)&&(t=0),t>this.length)||((i===undefined||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,t>>>=0,i<=t))return"";for(n||(n="utf8");;)switch(n){case"hex":return ei(this,t,i);case"utf8":case"utf-8":return ft(this,t,i);case"ascii":return ui(this,t,i);case"latin1":case"binary":return fi(this,t,i);case"base64":return ii(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oi(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase();r=!0}}function o(n,t,i){var r=n[t];n[t]=n[i];n[i]=r}function it(n,t,i,u,f){if(n.length===0)return-1;if(typeof i=="string"?(u=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=f?0:n.length-1),i<0&&(i=n.length+i),i>=n.length){if(f)return-1;i=n.length-1}else if(i<0)if(f)i=0;else return-1;if(typeof t=="string"&&(t=r.from(t,u)),r.isBuffer(t))return t.length===0?-1:rt(n,t,i,u,f);if(typeof t=="number")return(t=t&255,r.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function")?f?Uint8Array.prototype.indexOf.call(n,t,i):Uint8Array.prototype.lastIndexOf.call(n,t,i):rt(n,[t],i,u,f);throw new TypeError("val must be string, number or Buffer");}function rt(n,t,i,r,u){function l(n,t){return h===1?n[t]:n.readUInt16BE(t*h)}var h=1,c=n.length,o=t.length,f,e,a,s;if(r!==undefined&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(n.length<2||t.length<2)return-1;h=2;c/=2;o/=2;i/=2}if(u)for(e=-1,f=i;f<c;f++)if(l(n,f)===l(t,e===-1?0:f-e)){if(e===-1&&(e=f),f-e+1===o)return e*h}else e!==-1&&(f-=f-e),e=-1;else for(i+o>c&&(i=c-o),f=i;f>=0;f--){for(a=!0,s=0;s<o;s++)if(l(n,f+s)!==l(t,s)){a=!1;break}if(a)return f}return-1}function kt(n,t,i,r){var f,e,u,o;if(i=Number(i)||0,f=n.length-i,r?(r=Number(r),r>f&&(r=f)):r=f,e=t.length,e%2!=0)throw new TypeError("Invalid hex string");for(r>e/2&&(r=e/2),u=0;u<r;++u){if(o=parseInt(t.substr(u*2,2),16),isNaN(o))return u;n[i+u]=o}return u}function dt(n,t,i,r){return v(a(t,n.length-i),n,i,r)}function ut(n,t,i,r){return v(li(t),n,i,r)}function gt(n,t,i,r){return ut(n,t,i,r)}function ni(n,t,i,r){return v(ct(t),n,i,r)}function ti(n,t,i,r){return v(ai(t,n.length-i),n,i,r)}function ii(n,t,i){return t===0&&i===n.length?y.fromByteArray(n):y.fromByteArray(n.slice(t,i))}function ft(n,t,i){var h,f,e,s,l,u;for(i=Math.min(n.length,i),h=[],f=t;f<i;){var o=n[f],r=null,c=o>239?4:o>223?3:o>191?2:1;if(f+c<=i)switch(c){case 1:o<128&&(r=o);break;case 2:e=n[f+1];(e&192)==128&&(u=(o&31)<<6|e&63,u>127&&(r=u));break;case 3:e=n[f+1];s=n[f+2];(e&192)==128&&(s&192)==128&&(u=(o&15)<<12|(e&63)<<6|s&63,u>2047&&(u<55296||u>57343)&&(r=u));break;case 4:e=n[f+1];s=n[f+2];l=n[f+3];(e&192)==128&&(s&192)==128&&(l&192)==128&&(u=(o&15)<<18|(e&63)<<12|(s&63)<<6|l&63,u>65535&&u<1114112&&(r=u))}r===null?(r=65533,c=1):r>65535&&(r-=65536,h.push(r>>>10&1023|55296),r=56320|r&1023);h.push(r);f+=c}return ri(h)}function ri(n){var r=n.length,i,t;if(r<=k)return String.fromCharCode.apply(String,n);for(i="",t=0;t<r;)i+=String.fromCharCode.apply(String,n.slice(t,t+=k));return i}function ui(n,t,i){var u="",r;for(i=Math.min(n.length,i),r=t;r<i;++r)u+=String.fromCharCode(n[r]&127);return u}function fi(n,t,i){var u="",r;for(i=Math.min(n.length,i),r=t;r<i;++r)u+=String.fromCharCode(n[r]);return u}function ei(n,t,i){var f=n.length,u,r;for((!t||t<0)&&(t=0),(!i||i<0||i>f)&&(i=f),u="",r=t;r<i;++r)u+=ci(n[r]);return u}function oi(n,t,i){for(var u=n.slice(t,i),f="",r=0;r<u.length;r+=2)f+=String.fromCharCode(u[r]+u[r+1]*256);return f}function u(n,t,i){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+t>i)throw new RangeError("Trying to access beyond buffer length");}function f(n,t,i,u,f,e){if(!r.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<e)throw new RangeError('"value" argument is out of bounds');if(i+u>n.length)throw new RangeError("Index out of range");}function c(n,t,i,r){t<0&&(t=65535+t+1);for(var u=0,f=Math.min(n.length-i,2);u<f;++u)n[i+u]=(t&255<<8*(r?u:1-u))>>>(r?u:1-u)*8}function l(n,t,i,r){t<0&&(t=4294967295+t+1);for(var u=0,f=Math.min(n.length-i,4);u<f;++u)n[i+u]=t>>>(r?u:3-u)*8&255}function et(n,t,i,r){if(i+r>n.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range");}function ot(n,t,i,r,u){return u||et(n,t,i,4,34028234663852886e22,-34028234663852886e22),s.write(n,t,i,r,23,4),i+4}function st(n,t,i,r,u){return u||et(n,t,i,8,17976931348623157e292,-17976931348623157e292),s.write(n,t,i,r,52,8),i+8}function si(n){if(n=hi(n).replace(ht,""),n.length<2)return"";while(n.length%4!=0)n=n+"=";return n}function hi(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function ci(n){return n<16?"0"+n.toString(16):n.toString(16)}function a(n,t){var f;t=t||Infinity;var i,e=n.length,u=null,r=[];for(f=0;f<e;++f){if(i=n.charCodeAt(f),i>55295&&i<57344){if(!u){if(i>56319){(t-=3)>-1&&r.push(239,191,189);continue}else if(f+1===e){(t-=3)>-1&&r.push(239,191,189);continue}u=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189);u=i;continue}i=(u-55296<<10|i-56320)+65536}else u&&(t-=3)>-1&&r.push(239,191,189);if(u=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point");}return r}function li(n){for(var i=[],t=0;t<n.length;++t)i.push(n.charCodeAt(t)&255);return i}function ai(n,t){for(var i,f,e,r=[],u=0;u<n.length;++u){if((t-=2)<0)break;i=n.charCodeAt(u);f=i>>8;e=i%256;r.push(e);r.push(f)}return r}function ct(n){return y.toByteArray(si(n))}function v(n,t,i,r){for(var u=0;u<r;++u){if(u+i>=t.length||u>=n.length)break;t[u+i]=n[u]}return u}function vi(n){return n!==n}var y=i(49),s=i(50),d=i(28),k,ht;t.Buffer=r;t.SlowBuffer=wt;t.INSPECT_MAX_BYTES=50;r.TYPED_ARRAY_SUPPORT=n.TYPED_ARRAY_SUPPORT!==undefined?n.TYPED_ARRAY_SUPPORT:lt();t.kMaxLength=h();r.poolSize=8192;r._augment=function(n){return n.__proto__=r.prototype,n};r.from=function(n,t,i){return g(null,n,t,i)};r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0}));r.alloc=function(n,t,i){return at(null,n,t,i)};r.allocUnsafe=function(n){return p(null,n)};r.allocUnsafeSlow=function(n){return p(null,n)};r.isBuffer=function(n){return!!(n!=null&&n._isBuffer)};r.compare=function(n,t){var u,f,i,e;if(!r.isBuffer(n)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(n===t)return 0;for(u=n.length,f=t.length,i=0,e=Math.min(u,f);i<e;++i)if(n[i]!==t[i]){u=n[i];f=t[i];break}return u<f?-1:f<u?1:0};r.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};r.concat=function(n,t){var i,f,e,u;if(!d(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return r.alloc(0);if(t===undefined)for(t=0,i=0;i<n.length;++i)t+=n[i].length;for(f=r.allocUnsafe(t),e=0,i=0;i<n.length;++i){if(u=n[i],!r.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(f,e);e+=u.length}return f};r.byteLength=tt;r.prototype._isBuffer=!0;r.prototype.swap16=function(){var t=this.length,n;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(n=0;n<t;n+=2)o(this,n,n+1);return this};r.prototype.swap32=function(){var t=this.length,n;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(n=0;n<t;n+=4)o(this,n,n+3),o(this,n+1,n+2);return this};r.prototype.swap64=function(){var t=this.length,n;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(n=0;n<t;n+=8)o(this,n,n+7),o(this,n+1,n+6),o(this,n+2,n+5),o(this,n+3,n+4);return this};r.prototype.toString=function(){var n=this.length|0;return n===0?"":arguments.length===0?ft(this,0,n):bt.apply(this,arguments)};r.prototype.equals=function(n){if(!r.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:r.compare(this,n)===0};r.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(n+=" ... ")),"<Buffer "+n+">"};r.prototype.compare=function(n,t,i,u,f){var e;if(!r.isBuffer(n))throw new TypeError("Argument must be a Buffer");if(t===undefined&&(t=0),i===undefined&&(i=n?n.length:0),u===undefined&&(u=0),f===undefined&&(f=this.length),t<0||i>n.length||u<0||f>this.length)throw new RangeError("out of range index");if(u>=f&&t>=i)return 0;if(u>=f)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,u>>>=0,f>>>=0,this===n)return 0;var o=f-u,s=i-t,l=Math.min(o,s),h=this.slice(u,f),c=n.slice(t,i);for(e=0;e<l;++e)if(h[e]!==c[e]){o=h[e];s=c[e];break}return o<s?-1:s<o?1:0};r.prototype.includes=function(n,t,i){return this.indexOf(n,t,i)!==-1};r.prototype.indexOf=function(n,t,i){return it(this,n,t,i,!0)};r.prototype.lastIndexOf=function(n,t,i){return it(this,n,t,i,!1)};r.prototype.write=function(n,t,i,r){var u,f;if(t===undefined)r="utf8",i=this.length,t=0;else if(i===undefined&&typeof t=="string")r=t,i=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(i)?(i=i|0,r===undefined&&(r="utf8")):(r=i,i=undefined);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");if(u=this.length-t,(i===undefined||i>u)&&(i=u),n.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(r||(r="utf8"),f=!1;;)switch(r){case"hex":return kt(this,n,t,i);case"utf8":case"utf-8":return dt(this,n,t,i);case"ascii":return ut(this,n,t,i);case"latin1":case"binary":return gt(this,n,t,i);case"base64":return ni(this,n,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ti(this,n,t,i);default:if(f)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase();f=!0}};r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};k=4096;r.prototype.slice=function(n,t){var i=this.length,u,e,f;if(n=~~n,t=t===undefined?i:~~t,n<0?(n+=i,n<0&&(n=0)):n>i&&(n=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<n&&(t=n),r.TYPED_ARRAY_SUPPORT)u=this.subarray(n,t),u.__proto__=r.prototype;else for(e=t-n,u=new r(e,undefined),f=0;f<e;++f)u[f]=this[f+n];return u};r.prototype.readUIntLE=function(n,t,i){n=n|0;t=t|0;i||u(n,t,this.length);for(var r=this[n],f=1,e=0;++e<t&&(f*=256);)r+=this[n+e]*f;return r};r.prototype.readUIntBE=function(n,t,i){n=n|0;t=t|0;i||u(n,t,this.length);for(var r=this[n+--t],f=1;t>0&&(f*=256);)r+=this[n+--t]*f;return r};r.prototype.readUInt8=function(n,t){return t||u(n,1,this.length),this[n]};r.prototype.readUInt16LE=function(n,t){return t||u(n,2,this.length),this[n]|this[n+1]<<8};r.prototype.readUInt16BE=function(n,t){return t||u(n,2,this.length),this[n]<<8|this[n+1]};r.prototype.readUInt32LE=function(n,t){return t||u(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216};r.prototype.readUInt32BE=function(n,t){return t||u(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])};r.prototype.readIntLE=function(n,t,i){n=n|0;t=t|0;i||u(n,t,this.length);for(var r=this[n],f=1,e=0;++e<t&&(f*=256);)r+=this[n+e]*f;return f*=128,r>=f&&(r-=Math.pow(2,8*t)),r};r.prototype.readIntBE=function(n,t,i){n=n|0;t=t|0;i||u(n,t,this.length);for(var e=t,r=1,f=this[n+--e];e>0&&(r*=256);)f+=this[n+--e]*r;return r*=128,f>=r&&(f-=Math.pow(2,8*t)),f};r.prototype.readInt8=function(n,t){return(t||u(n,1,this.length),!(this[n]&128))?this[n]:(256-this[n])*-1};r.prototype.readInt16LE=function(n,t){t||u(n,2,this.length);var i=this[n]|this[n+1]<<8;return i&32768?i|4294901760:i};r.prototype.readInt16BE=function(n,t){t||u(n,2,this.length);var i=this[n+1]|this[n]<<8;return i&32768?i|4294901760:i};r.prototype.readInt32LE=function(n,t){return t||u(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};r.prototype.readInt32BE=function(n,t){return t||u(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};r.prototype.readFloatLE=function(n,t){return t||u(n,4,this.length),s.read(this,n,!0,23,4)};r.prototype.readFloatBE=function(n,t){return t||u(n,4,this.length),s.read(this,n,!1,23,4)};r.prototype.readDoubleLE=function(n,t){return t||u(n,8,this.length),s.read(this,n,!0,52,8)};r.prototype.readDoubleBE=function(n,t){return t||u(n,8,this.length),s.read(this,n,!1,52,8)};r.prototype.writeUIntLE=function(n,t,i,r){var o,u,e;for(n=+n,t=t|0,i=i|0,r||(o=Math.pow(2,8*i)-1,f(this,n,t,i,o,0)),u=1,e=0,this[t]=n&255;++e<i&&(u*=256);)this[t+e]=n/u&255;return t+i};r.prototype.writeUIntBE=function(n,t,i,r){var o,u,e;for(n=+n,t=t|0,i=i|0,r||(o=Math.pow(2,8*i)-1,f(this,n,t,i,o,0)),u=i-1,e=1,this[t+u]=n&255;--u>=0&&(e*=256);)this[t+u]=n/e&255;return t+i};r.prototype.writeUInt8=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),this[t]=n&255,t+1};r.prototype.writeUInt16LE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=n&255,this[t+1]=n>>>8):c(this,n,t,!0),t+2};r.prototype.writeUInt16BE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>8,this[t+1]=n&255):c(this,n,t,!1),t+2};r.prototype.writeUInt32LE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=n>>>24,this[t+2]=n>>>16,this[t+1]=n>>>8,this[t]=n&255):l(this,n,t,!0),t+4};r.prototype.writeUInt32BE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255):l(this,n,t,!1),t+4};r.prototype.writeIntLE=function(n,t,i,r){var u;n=+n;t=t|0;r||(u=Math.pow(2,8*i-1),f(this,n,t,i,u-1,-u));var e=0,s=1,o=0;for(this[t]=n&255;++e<i&&(s*=256);)n<0&&o===0&&this[t+e-1]!==0&&(o=1),this[t+e]=(n/s>>0)-o&255;return t+i};r.prototype.writeIntBE=function(n,t,i,r){var e;n=+n;t=t|0;r||(e=Math.pow(2,8*i-1),f(this,n,t,i,e-1,-e));var u=i-1,s=1,o=0;for(this[t+u]=n&255;--u>=0&&(s*=256);)n<0&&o===0&&this[t+u+1]!==0&&(o=1),this[t+u]=(n/s>>0)-o&255;return t+i};r.prototype.writeInt8=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),n<0&&(n=255+n+1),this[t]=n&255,t+1};r.prototype.writeInt16LE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=n&255,this[t+1]=n>>>8):c(this,n,t,!0),t+2};r.prototype.writeInt16BE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>8,this[t+1]=n&255):c(this,n,t,!1),t+2};r.prototype.writeInt32LE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=n&255,this[t+1]=n>>>8,this[t+2]=n>>>16,this[t+3]=n>>>24):l(this,n,t,!0),t+4};r.prototype.writeInt32BE=function(n,t,i){return n=+n,t=t|0,i||f(this,n,t,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255):l(this,n,t,!1),t+4};r.prototype.writeFloatLE=function(n,t,i){return ot(this,n,t,!0,i)};r.prototype.writeFloatBE=function(n,t,i){return ot(this,n,t,!1,i)};r.prototype.writeDoubleLE=function(n,t,i){return st(this,n,t,!0,i)};r.prototype.writeDoubleBE=function(n,t,i){return st(this,n,t,!1,i)};r.prototype.copy=function(n,t,i,u){if((i||(i=0),u||u===0||(u=this.length),t>=n.length&&(t=n.length),t||(t=0),u>0&&u<i&&(u=i),u===i)||n.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length);n.length-t<u-i&&(u=n.length-t+i);var e=u-i,f;if(this===n&&i<t&&t<u)for(f=e-1;f>=0;--f)n[f+t]=this[f+i];else if(e<1e3||!r.TYPED_ARRAY_SUPPORT)for(f=0;f<e;++f)n[f+t]=this[f+i];else Uint8Array.prototype.set.call(n,this.subarray(i,i+e),t);return e};r.prototype.fill=function(n,t,i,u){var e,f,o,s;if(typeof n=="string"){if(typeof t=="string"?(u=t,t=0,i=this.length):typeof i=="string"&&(u=i,i=this.length),n.length===1&&(e=n.charCodeAt(0),e<256&&(n=e)),u!==undefined&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!r.isEncoding(u))throw new TypeError("Unknown encoding: "+u);}else typeof n=="number"&&(n=n&255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;if(t=t>>>0,i=i===undefined?this.length:i>>>0,n||(n=0),typeof n=="number")for(f=t;f<i;++f)this[f]=n;else for(o=r.isBuffer(n)?n:a(new r(n,u).toString()),s=o.length,f=0;f<i-t;++f)this[f+t]=o[f%s];return this};ht=/[^+\/0-9A-Za-z-_]/g}).call(t,i(2))},function(n,t){"use strict";function i(n){if(n===undefined)throw"dicomParser.readTag: missing required parameter 'byteStream'";var t=n.readUint16()*65536,i=n.readUint16();return"x"+("00000000"+(t+i).toString(16)).substr(-8)}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},function(n){var t=function(){return this}();try{t=t||Function("return this")()||(1,eval)("this")}catch(i){typeof window=="object"&&(t=window)}n.exports=t},function(n){function h(){throw new Error("setTimeout has not been defined");}function c(){throw new Error("clearTimeout has not been defined");}function l(n){if(i===setTimeout)return setTimeout(n,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(n,0);try{return i(n,0)}catch(t){try{return i.call(null,n,0)}catch(t){return i.call(this,n,0)}}}function y(n){if(r===clearTimeout)return clearTimeout(n);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{return r(n)}catch(t){try{return r.call(null,n)}catch(t){return r.call(this,n)}}}function p(){o&&e&&(o=!1,e.length?u=e.concat(u):s=-1,u.length&&a())}function a(){var t,n;if(!o){for(t=l(p),o=!0,n=u.length;n;){for(e=u,u=[];++s<n;)e&&e[s].run();s=-1;n=u.length}e=null;o=!1;y(t)}}function v(n,t){this.fun=n;this.array=t}function f(){}var t=n.exports={},i,r;(function(){try{i=typeof setTimeout=="function"?setTimeout:h}catch(n){i=h}try{r=typeof clearTimeout=="function"?clearTimeout:c}catch(n){r=c}})();var u=[],o=!1,e,s=-1;t.nextTick=function(n){var i=new Array(arguments.length-1),t;if(arguments.length>1)for(t=1;t<arguments.length;t++)i[t-1]=arguments[t];u.push(new v(n,i));u.length!==1||o||l(a)};v.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=!0;t.env={};t.argv=[];t.version="";t.versions={};t.on=f;t.addListener=f;t.once=f;t.off=f;t.removeListener=f;t.removeAllListeners=f;t.emit=f;t.prependListener=f;t.prependOnceListener=f;t.listeners=function(){return[]};t.binding=function(){throw new Error("process.binding is not supported");};t.cwd=function(){return"/"};t.chdir=function(){throw new Error("process.chdir is not supported");};t.umask=function(){return 0}},function(n,t,i){"use strict";function r(n){if(!(this instanceof r))return new r(n);s.call(this,n);u.call(this,n);n&&n.readable===!1&&(this.readable=!1);n&&n.writable===!1&&(this.writable=!1);this.allowHalfOpen=!0;n&&n.allowHalfOpen===!1&&(this.allowHalfOpen=!1);this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||c(v,this)}function v(n){n.end()}var c=i(14),l=Object.keys||function(n){var t=[];for(var i in n)t.push(i);return t},o,s,u,h,f,e;for(n.exports=r,o=i(6),o.inherits=i(7),s=i(31),u=i(35),o.inherits(r,s),h=l(u.prototype),f=0;f<h.length;f++)e=h[f],r.prototype[e]||(r.prototype[e]=u.prototype[e]);Object.defineProperty(r.prototype,"destroyed",{get:function(){return this._readableState===undefined||this._writableState===undefined?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=n,this._writableState.destroyed=n)}});r.prototype._destroy=function(n,t){this.push(null);this.end();c(t,n)}},function(n,t,i){"use strict";function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function r(n,t){return n.parser!==undefined?n.parser:t}var f,u,e;Object.defineProperty(t,"__esModule",{value:!0});f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();u=i(10);e=function(){function n(t,i,r){o(this,n);this.byteArrayParser=t;this.byteArray=i;this.elements=r}return f(n,[{key:"uint16",value:function(n,t){var i=this.elements[n];return(t=t!==undefined?t:0,i&&i.length!==0)?r(i,this.byteArrayParser).readUint16(this.byteArray,i.dataOffset+t*2):undefined}},{key:"int16",value:function(n,t){var i=this.elements[n];return(t=t!==undefined?t:0,i&&i.length!==0)?r(i,this.byteArrayParser).readInt16(this.byteArray,i.dataOffset+t*2):undefined}},{key:"uint32",value:function(n,t){var i=this.elements[n];return(t=t!==undefined?t:0,i&&i.length!==0)?r(i,this.byteArrayParser).readUint32(this.byteArray,i.dataOffset+t*4):undefined}},{key:"int32",value:function(n,t){var i=this.elements[n];return(t=t!==undefined?t:0,i&&i.length!==0)?r(i,this.byteArrayParser).readInt32(this.byteArray,i.dataOffset+t*4):undefined}},{key:"float",value:function(n,t){var i=this.elements[n];return(t=t!==undefined?t:0,i&&i.length!==0)?r(i,this.byteArrayParser).readFloat(this.byteArray,i.dataOffset+t*4):undefined}},{key:"double",value:function(n,t){var i=this.elements[n];return(t=t!==undefined?t:0,i&&i.length!==0)?r(i,this.byteArrayParser).readDouble(this.byteArray,i.dataOffset+t*8):undefined}},{key:"numStringValues",value:function(n){var t=this.elements[n],r,i;return t&&t.length>0?(r=u.readFixedString(this.byteArray,t.dataOffset,t.length),i=r.match(/\\/g),i===null)?1:i.length+1:undefined}},{key:"string",value:function(n,t){var i=this.elements[n],r,f;return i&&i.length>0?(r=u.readFixedString(this.byteArray,i.dataOffset,i.length),t>=0)?(f=r.split("\\"),f[t].trim()):r.trim():undefined}},{key:"text",value:function(n,t){var i=this.elements[n],r,f;return i&&i.length>0?(r=u.readFixedString(this.byteArray,i.dataOffset,i.length),t>=0)?(f=r.split("\\"),f[t].replace(/ +$/,"")):r.replace(/ +$/,""):undefined}},{key:"floatString",value:function(n,t){var r=this.elements[n],i;return r&&r.length>0&&(t=t!==undefined?t:0,i=this.string(n,t),i!==undefined)?parseFloat(i):undefined}},{key:"intString",value:function(n,t){var r=this.elements[n],i;return r&&r.length>0&&(t=t!==undefined?t:0,i=this.string(n,t),i!==undefined)?parseInt(i):undefined}},{key:"attributeTag",value:function(n){var t=this.elements[n];if(t&&t.length===4){var i=r(t,this.byteArrayParser).readUint16,u=this.byteArray,f=t.dataOffset;return"x"+("00000000"+(i(u,f)*65536+i(u,f+2)).toString(16)).substr(-8)}return undefined}}]),n}();t.default=e},function(n,t,i){(function(n){function r(n){return Array.isArray?Array.isArray(n):i(n)==="[object Array]"}function u(n){return typeof n=="boolean"}function f(n){return n===null}function e(n){return n==null}function o(n){return typeof n=="number"}function s(n){return typeof n=="string"}function h(n){return typeof n=="symbol"}function c(n){return n===void 0}function l(n){return i(n)==="[object RegExp]"}function a(n){return typeof n=="object"&&n!==null}function v(n){return i(n)==="[object Date]"}function y(n){return i(n)==="[object Error]"||n instanceof Error}function p(n){return typeof n=="function"}function w(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n=="undefined"}function i(n){return Object.prototype.toString.call(n)}t.isArray=r;t.isBoolean=u;t.isNull=f;t.isNullOrUndefined=e;t.isNumber=o;t.isString=s;t.isSymbol=h;t.isUndefined=c;t.isRegExp=l;t.isObject=a;t.isDate=v;t.isError=y;t.isFunction=p;t.isPrimitive=w;t.isBuffer=n.isBuffer}).call(t,i(0).Buffer)},function(n){n.exports=typeof Object.create=="function"?function(n,t){n.super_=t;n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,t){n.super_=t;var i=function(){};i.prototype=t.prototype;n.prototype=new i;n.prototype.constructor=n}},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function s(n,t,i){var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},e,r;if(i=i===undefined?t.byteArray.length:i,t===undefined)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(i<t.position||i>t.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(e=n.elements;t.position<i;)if(r=f.default(t,n.warnings,u.untilTag),e[r.tag]=r,r.tag===u.untilTag)return;if(t.position>i)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun";}function h(n,t,i){var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},f,r;if(i=i===undefined?n.byteArray.length:i,t===undefined)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(i<t.position||i>t.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(f=n.elements;t.position<i;)if(r=o.default(t,u.untilTag,u.vrCallback),f[r.tag]=r,r.tag===u.untilTag)return}Object.defineProperty(t,"__esModule",{value:!0});t.parseDicomDataSetExplicit=s;t.parseDicomDataSetImplicit=h;var u=i(9),f=r(u),e=i(18),o=r(e)},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function p(n,t,i){if(n===undefined)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var r={tag:a.default(n),vr:n.readFixedString(2)},f=u(r.vr);return(f===2?(r.length=n.readUint16(),r.dataOffset=n.position):(n.seek(2),r.length=n.readUint32(),r.dataOffset=n.position),r.length===4294967295&&(r.hadUndefinedLength=!0),r.tag===i)?r:r.vr==="SQ"?(y.default(n,r,t),r):r.length===4294967295?r.tag==="x7fe00010"?(e.default(n,r,t),r):r.vr==="UN"?(s.default(n,r),r):(c.default(n,r),r):(n.seek(r.length),r)}var u;Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var f=i(24),e=r(f),o=i(25),s=r(o),h=i(17),c=r(h),l=i(1),a=r(l),v=i(26),y=r(v);u=function(n){return n==="OB"||n==="OW"||n==="SQ"||n==="OF"||n==="UT"||n==="UN"?4:2}},function(n,t){"use strict";function i(n,t,i){var r,f,u;if(i<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(t+i>n.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(r="",u=0;u<i;u++){if(f=n[t+u],f===0)return t+=i,r;r+=String.fromCharCode(f)}return r}Object.defineProperty(t,"__esModule",{value:!0});t.readFixedString=i},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(n){if(n===undefined)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var t={tag:u.default(n),length:n.readUint32(),dataOffset:n.position};if(t.tag!=="xfffee000")throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset "+n.position;return t}Object.defineProperty(t,"__esModule",{value:!0});t.default=e;var r=i(1),u=f(r)},function(n,t,i){"use strict";(function(n){function s(n){return n&&n.__esModule?n:{"default":n}}function h(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var r;Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=i(13),e=s(f),o=i(10);r=function(){function t(i,r,u){if(h(this,t),i===undefined)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(r===undefined)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(r instanceof Uint8Array==!1&&r instanceof n==!1)throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(u<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(u>=r.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=i;this.byteArray=r;this.position=u?u:0;this.warnings=[]}return u(t,[{key:"seek",value:function(n){if(this.position+n<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=n}},{key:"readByteStream",value:function(n){if(this.position+n>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var i=e.default(this.byteArray,this.position,n);return this.position+=n,new t(this.byteArrayParser,i)}},{key:"readUint16",value:function(){var n=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,n}},{key:"readUint32",value:function(){var n=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,n}},{key:"readFixedString",value:function(n){var t=o.readFixedString(this.byteArray,this.position,n);return this.position+=n,t}}]),t}();t.default=r}).call(t,i(0).Buffer)},function(n,t,i){"use strict";(function(n){function i(t,i,r){if(typeof n!="undefined"&&t instanceof n)return t.slice(i,i+r);if(t instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset+i,r);throw"dicomParser.from: unknown type for byteArray";}Object.defineProperty(t,"__esModule",{value:!0});t.default=i}).call(t,i(0).Buffer)},function(n,t,i){"use strict";(function(t){function i(n,i,r,u){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,f,e;switch(o){case 0:case 1:return t.nextTick(n);case 2:return t.nextTick(function(){n.call(null,i)});case 3:return t.nextTick(function(){n.call(null,i,r)});case 4:return t.nextTick(function(){n.call(null,i,r,u)});default:for(f=new Array(o-1),e=0;e<f.length;)f[e++]=arguments[e];return t.nextTick(function(){n.apply(null,f)})}}n.exports=t.version&&t.version.indexOf("v0.")!==0&&(t.version.indexOf("v1.")!==0||t.version.indexOf("v1.8.")===0)?t.nextTick:i}).call(t,i(3))},function(n,t){"use strict";var u=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined",i,r;t.assign=function(n){for(var r=Array.prototype.slice.call(arguments,1),t,i;r.length;)if(t=r.shift(),t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}return n};t.shrinkBuf=function(n,t){return n.length===t?n:n.subarray?n.subarray(0,t):(n.length=t,n)};i={arraySet:function(n,t,i,r,u){if(t.subarray&&n.subarray){n.set(t.subarray(i,i+r),u);return}for(var f=0;f<r;f++)n[u+f]=t[i+f]},flattenChunks:function(n){var t,i,r,u,f,e;for(r=0,t=0,i=n.length;t<i;t++)r+=n[t].length;for(e=new Uint8Array(r),u=0,t=0,i=n.length;t<i;t++)f=n[t],e.set(f,u),u+=f.length;return e}};r={arraySet:function(n,t,i,r,u){for(var f=0;f<r;f++)n[u+f]=t[i+f]},flattenChunks:function(n){return[].concat.apply([],n)}};t.setTyped=function(n){n?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))};t.setTyped(u)},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:undefined,UR:!0,US:!1,UT:!0},r=function(n){return i[n]},u=function(n){var t=parseInt(n[4],10);return t%2==1},f=function(n){if(n===undefined)return undefined;var t=n.split("^");return{familyName:t[0],givenName:t[1],middleName:t[2],prefix:t[3],suffix:t[4]}};t.isStringVr=r;t.isPrivateTag=u;t.parsePN=f},function(n,t){"use strict";function i(n,t){var i,r,u,f,e;if(n===undefined)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(i=8,r=n.byteArray.length-i;n.position<=r;)if(u=n.readUint16(),u===65534&&(f=n.readUint16(),f===57357)){e=n.readUint32();e!==0&&n.warnings("encountered non zero length following item delimiter at position "+(n.position-4)+" while reading element of undefined length with tag "+t.tag);t.length=n.position-t.dataOffset;return}t.length=n.byteArray.length-t.dataOffset;n.seek(n.byteArray.length-n.position)}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function l(n,t,i){if(n===undefined)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var r={tag:u.default(n),length:n.readUint32(),dataOffset:n.position};return(r.length===4294967295&&(r.hadUndefinedLength=!0),r.tag===t)?r:f(r,n,i)?(h.default(n,r),r):r.hadUndefinedLength?(o.default(n,r),r):(n.seek(r.length),r)}var f;Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var e=i(17),o=r(e),s=i(27),h=r(s),c=i(1),u=r(c);f=function(n,t,i){if(typeof i!="undefined")return i(n.tag)==="SQ";if(t.position+4<=t.byteArray.length){var r=u.default(t);return t.seek(-4),r==="xfffee000"||r==="xfffee0dd"}return t.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1}},function(n,t,i){"use strict";(function(n){function i(t,i){if(typeof n!="undefined"&&t instanceof n)return n.alloc(i);if(t instanceof Uint8Array)return new Uint8Array(i);throw"dicomParser.alloc: unknown type for byteArray";}Object.defineProperty(t,"__esModule",{value:!0});t.default=i}).call(t,i(0).Buffer)},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={readUint16:function(n,t){if(t<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>n.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return n[t]+n[t+1]*256},readInt16:function(n,t){if(t<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>n.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";var i=n[t]+(n[t+1]<<8);return i&32768&&(i=i-65536),i},readUint32:function(n,t){if(t<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>n.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return n[t]+n[t+1]*256+n[t+2]*65536+n[t+3]*16777216},readInt32:function(n,t){if(t<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>n.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return n[t]+(n[t+1]<<8)+(n[t+2]<<16)+(n[t+3]<<24)},readFloat:function(n,t){var i,r;if(t<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>n.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";return i=new Uint8Array(4),i[0]=n[t],i[1]=n[t+1],i[2]=n[t+2],i[3]=n[t+3],r=new Float32Array(i.buffer),r[0]},readDouble:function(n,t){var i,r;if(t<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>n.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";return i=new Uint8Array(8),i[0]=n[t],i[1]=n[t+1],i[2]=n[t+2],i[3]=n[t+3],i[4]=n[t+4],i[5]=n[t+5],i[6]=n[t+6],i[7]=n[t+7],r=new Float64Array(i.buffer),r[0]}}},function(n,t,i){function e(n,t){for(var i in n)t[i]=n[i]}function u(n,t,i){return r(n,t,i)}var f=i(0),r=f.Buffer;r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=f:(e(f,t),t.Buffer=u);e(r,u);u.from=function(n,t,i){if(typeof n=="number")throw new TypeError("Argument must not be a number");return r(n,t,i)};u.alloc=function(n,t,i){if(typeof n!="number")throw new TypeError("Argument must be a number");var u=r(n);return t!==undefined?typeof i=="string"?u.fill(t,i):u.fill(t):u.fill(0),u};u.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return r(n)};u.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return f.SlowBuffer(n)}},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function v(n,t,i,r,f){var o,l,v,y,h,b,p;if(r=r||1,f=f||t.fragments,n===undefined)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(t===undefined)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(i===undefined)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if(r===undefined)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if(t.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(t.encapsulatedPixelData!==!0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.hadUndefinedLength!==!0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.basicOffsetTable===undefined)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments===undefined)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(i<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(i>=t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(r<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(i+r>t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";if(o=new s.default(n.byteArrayParser,n.byteArray,t.dataOffset),l=c.default(o),l.tag!=="xfffee000")throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";if(o.seek(l.length),v=o.position,y=8,r===1)return a.default(o.byteArray,v+f[i].offset+y,f[i].length);var k=u(f,i,r),w=e.default(o.byteArray,k),d=0;for(h=i;h<i+r;h++)for(b=v+f[h].offset+y,p=0;p<f[h].length;p++)w[d++]=o.byteArray[b++];return w}var u;Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var f=i(19),e=r(f),o=i(12),s=r(o),h=i(11),c=r(h),l=i(13),a=r(l);u=function(n,t,i){for(var u=0,r=t;r<t+i;r++)u+=n[r].length;return u}},function(n,t,i){"use strict";function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},n!=null)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t.default=n,t}function e(n,t){function f(t,i){for(var u="",r=0;r<t;r++)r!==0&&(u+="/"),u+=i.call(n,o,r).toString();return u}var i,o,r,e;if(n===undefined||t===undefined)throw"dicomParser.explicitElementToString: missing required parameters";if(t.vr===undefined)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";if(i=t.vr,o=t.tag,u.isStringVr(i)===!0)r=n.string(o);else{if(i==="AT")return(e=n.uint32(o),e===undefined)?undefined:(e<0&&(e=4294967295+e+1),"x"+e.toString(16).toUpperCase());i==="US"?r=f(t.length/2,n.uint16):i==="SS"?r=f(t.length/2,n.int16):i==="UL"?r=f(t.length/4,n.uint32):i==="SL"?r=f(t.length/4,n.int32):i==="FD"?r=f(t.length/8,n.double):i==="FL"&&(r=f(t.length/4,n.float))}return r}Object.defineProperty(t,"__esModule",{value:!0});t.default=e;var r=i(16),u=f(r)},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(n,t,i){var s,h,c,e,l,o,f,u;if(n===undefined)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(t===undefined)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(t.encapsulatedPixelData=!0,t.basicOffsetTable=[],t.fragments=[],s=r.default(n),s!=="xfffee000")throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(h=n.readUint32(),c=h/4,e=0;e<c;e++)l=n.readUint32(),t.basicOffsetTable.push(l);for(o=n.position;n.position<n.byteArray.length;){if(f=r.default(n),u=n.readUint32(),f==="xfffee0dd"){n.seek(u);t.length=n.position-t.dataOffset;return}if(f==="xfffee000")t.fragments.push({offset:n.position-o-8,position:n.position,length:u});else{i&&i.push("unexpected tag "+f+" while searching for end of pixel data element with undefined length");u>n.byteArray.length-n.position&&(u=n.byteArray.length-n.position);t.fragments.push({offset:n.position-o-8,position:n.position,length:u});n.seek(u);t.length=n.position-t.dataOffset;return}n.seek(u)}i&&i.push("pixel data element "+t.tag+" missing sequence delimiter tag xfffee0dd")}Object.defineProperty(t,"__esModule",{value:!0});t.default=e;var u=i(1),r=f(u)},function(n,t){"use strict";function i(n,t){var i,r,u,f,e;if(n===undefined)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(i=8,r=n.byteArray.length-i;n.position<=r;)if(u=n.readUint16(),u===65534&&(f=n.readUint16(),f===57565)){e=n.readUint32();e!==0&&n.warnings("encountered non zero length following item delimiter at position "+(n.position-4)+" while reading element of undefined length with tag "+t.tag);t.length=n.position-t.dataOffset;return}t.length=n.byteArray.length-t.dataOffset;n.seek(n.byteArray.length-n.position)}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},function(n,t,i){"use strict";function p(n){var t,i;if(n&&n.__esModule)return n;if(t={},n!=null)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t.default=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function w(n,t){for(var r={},i;n.position<n.byteArray.length;)if(i=s.default(n,t),r[i.tag]=i,i.tag==="xfffee00d")return new u.default(n.byteArrayParser,n.byteArray,r);return t.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new u.default(n.byteArrayParser,n.byteArray,r)}function f(n,t){var i=c.default(n);return i.length===4294967295?(i.hadUndefinedLength=!0,i.dataSet=w(n,t),i.length=n.position-i.dataOffset):(i.dataSet=new u.default(n.byteArrayParser,n.byteArray,{}),y.parseDicomDataSetExplicit(i.dataSet,n,n.position+i.length)),i}function b(n,t,i){for(var r,u;n.position+4<=n.byteArray.length;){if(r=a.default(n),n.seek(-4),r==="xfffee0dd")return t.length=n.position-t.dataOffset,n.seek(8),t;u=f(n,i);t.items.push(u)}i.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length");t.length=n.position-t.dataOffset}function k(n,t,i){for(var u=t.dataOffset+t.length,r;n.position<u;)r=f(n,i),t.items.push(r)}function d(n,t,i){if(n===undefined)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(t===undefined)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";t.items=[];t.length===4294967295?b(n,t,i):k(n,t,i)}Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var e=i(5),u=r(e),o=i(9),s=r(o),h=i(11),c=r(h),l=i(1),a=r(l),v=i(8),y=p(v)},function(n,t,i){"use strict";function p(n){var t,i;if(n&&n.__esModule)return n;if(t={},n!=null)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t.default=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function w(n,t){for(var r={},i;n.position<n.byteArray.length;)if(i=s.default(n,undefined,t),r[i.tag]=i,i.tag==="xfffee00d")return new u.default(n.byteArrayParser,n.byteArray,r);return n.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new u.default(n.byteArrayParser,n.byteArray,r)}function f(n,t){var i=c.default(n);return i.length===4294967295?(i.hadUndefinedLength=!0,i.dataSet=w(n,t),i.length=n.position-i.dataOffset):(i.dataSet=new u.default(n.byteArrayParser,n.byteArray,{}),y.parseDicomDataSetImplicit(i.dataSet,n,n.position+i.length,{vrCallback:t})),i}function b(n,t,i){for(var r,u;n.position+4<=n.byteArray.length;){if(r=a.default(n),n.seek(-4),r==="xfffee0dd")return t.length=n.position-t.dataOffset,n.seek(8),t;u=f(n,i);t.items.push(u)}n.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length");t.length=n.byteArray.length-t.dataOffset}function k(n,t,i){for(var u=t.dataOffset+t.length,r;n.position<u;)r=f(n,i),t.items.push(r)}function d(n,t,i){if(n===undefined)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(t===undefined)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";t.items=[];t.length===4294967295?b(n,t,i):k(n,t,i)}Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var e=i(5),u=r(e),o=i(18),s=r(o),h=i(11),c=r(h),l=i(1),a=r(l),v=i(8),y=p(v)},function(n){var t={}.toString;n.exports=Array.isArray||function(n){return t.call(n)=="[object Array]"}},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={readUint16:function(n,t){if(t<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>n.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(n[t]<<8)+n[t+1]},readInt16:function(n,t){if(t<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>n.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";var i=(n[t]<<8)+n[t+1];return i&32768&&(i=i-65536),i},readUint32:function(n,t){if(t<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>n.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*n[t]+n[t+1])+n[t+2])+n[t+3]},readInt32:function(n,t){if(t<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>n.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(n[t]<<24)+(n[t+1]<<16)+(n[t+2]<<8)+n[t+3]},readFloat:function(n,t){var i,r;if(t<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>n.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";return i=new Uint8Array(4),i[3]=n[t],i[2]=n[t+1],i[1]=n[t+2],i[0]=n[t+3],r=new Float32Array(i.buffer),r[0]},readDouble:function(n,t){var i,r;if(t<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>n.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";return i=new Uint8Array(8),i[7]=n[t],i[6]=n[t+1],i[5]=n[t+2],i[4]=n[t+3],i[3]=n[t+4],i[2]=n[t+5],i[1]=n[t+6],i[0]=n[t+7],r=new Float64Array(i.buffer),r[0]}}},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function a(n){function i(){t.seek(128);var n=t.readFixedString(4);if(n!=="DICM")throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file.";}function r(){var e,f,o,n,r;for(i(),e=[],f={};t.position<t.byteArray.length;){if(o=t.position,n=l.default(t,e),n.tag>"x0002ffff"){t.position=o;break}n.parser=u.default;f[n.tag]=n}return r=new s.default(t.byteArrayParser,t.byteArray,f),r.warnings=t.warnings,r.position=t.position,r}if(n===undefined)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var t=new e.default(u.default,n);return r()}Object.defineProperty(t,"__esModule",{value:!0});t.default=a;var f=i(12),e=r(f),o=i(5),s=r(o),h=i(20),u=r(h),c=i(9),l=r(c)},function(n,t,i){"use strict";(function(t,r){function ct(n){return h.from(n)}function lt(n){return h.isBuffer(n)||n instanceof ht}function at(n,t,i){if(typeof n.prependListener=="function")return n.prependListener(t,i);if(n._events&&n._events[t])g(n._events[t])?n._events[t].unshift(i):n._events[t]=[i,n._events[t]];else n.on(t,i)}function it(n,t){s=s||i(4);n=n||{};this.objectMode=!!n.objectMode;t instanceof s&&(this.objectMode=this.objectMode||!!n.readableObjectMode);var r=n.highWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||r===0?r:u;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new tt;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=!1;this.endEmitted=!1;this.reading=!1;this.sync=!0;this.needReadable=!1;this.emittedReadable=!1;this.readableListening=!1;this.resumeScheduled=!1;this.destroyed=!1;this.defaultEncoding=n.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.decoder=null;this.encoding=null;n.encoding&&(o||(o=i(36).StringDecoder),this.decoder=new o(n.encoding),this.encoding=n.encoding)}function f(n){if(s=s||i(4),!(this instanceof f))return new f(n);this._readableState=new it(n,this);this.readable=!0;n&&(typeof n.read=="function"&&(this._read=n.read),typeof n.destroy=="function"&&(this._destroy=n.destroy));v.call(this)}function rt(n,t,i,r,u){var f=n._readableState,e;return t===null?(f.reading=!1,wt(n,f)):(u||(e=vt(f,t)),e?n.emit("error",e):f.objectMode||t&&t.length>0?(typeof t=="string"||f.objectMode||Object.getPrototypeOf(t)===h.prototype||(t=ct(t)),r?f.endEmitted?n.emit("error",new Error("stream.unshift() after end event")):w(n,f,t,!0):f.ended?n.emit("error",new Error("stream.push() after EOF")):(f.reading=!1,f.decoder&&!i?(t=f.decoder.write(t),f.objectMode||t.length!==0?w(n,f,t,!1):et(n,f)):w(n,f,t,!1))):r||(f.reading=!1)),yt(f)}function w(n,t,i,r){t.flowing&&t.length===0&&!t.sync?(n.emit("data",i),n.read(0)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&a(n));et(n,t)}function vt(n,t){var i;return lt(t)||typeof t=="string"||t===undefined||n.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}function yt(n){return!n.ended&&(n.needReadable||n.length<n.highWaterMark||n.length===0)}function pt(n){return n>=b?n=b:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function ut(n,t){return n<=0||t.length===0&&t.ended?0:t.objectMode?1:n!==n?t.flowing&&t.length?t.buffer.head.data.length:t.length:(n>t.highWaterMark&&(t.highWaterMark=pt(n)),n<=t.length)?n:t.ended?t.length:(t.needReadable=!0,0)}function wt(n,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0;a(n)}}function a(n){var t=n._readableState;t.needReadable=!1;t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?e(ft,n):ft(n))}function ft(n){u("emit readable");n.emit("readable");k(n)}function et(n,t){t.readingMore||(t.readingMore=!0,e(bt,n,t))}function bt(n,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark;)if(u("maybeReadMore read 0"),n.read(0),i===t.length)break;else i=t.length;t.readingMore=!1}function kt(n){return function(){var t=n._readableState;u("pipeOnDrain",t.awaitDrain);t.awaitDrain&&t.awaitDrain--;t.awaitDrain===0&&nt(n,"data")&&(t.flowing=!0,k(n))}}function dt(n){u("readable nexttick read 0");n.read(0)}function gt(n,t){t.resumeScheduled||(t.resumeScheduled=!0,e(ni,n,t))}function ni(n,t){t.reading||(u("resume read 0"),n.read(0));t.resumeScheduled=!1;t.awaitDrain=0;n.emit("resume");k(n);t.flowing&&!t.reading&&n.read(0)}function k(n){var t=n._readableState;for(u("flow",t.flowing);t.flowing&&n.read()!==null;);}function ot(n,t){if(t.length===0)return null;var i;return t.objectMode?i=t.buffer.shift():!n||n>=t.length?(i=t.decoder?t.buffer.join(""):t.buffer.length===1?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=ti(n,t.buffer,t.decoder),i}function ti(n,t,i){var r;return n<t.head.data.length?(r=t.head.data.slice(0,n),t.head.data=t.head.data.slice(n)):r=n===t.head.data.length?t.shift():i?ii(n,t):ri(n,t),r}function ii(n,t){var i=t.head,f=1,e=i.data,r,u;for(n-=e.length;i=i.next;){if(r=i.data,u=n>r.length?r.length:n,e+=u===r.length?r:r.slice(0,n),n-=u,n===0){u===r.length?(++f,t.head=i.next?i.next:t.tail=null):(t.head=i,i.data=r.slice(u));break}++f}return t.length-=f,e}function ri(n,t){var f=h.allocUnsafe(n),i=t.head,e=1,r,u;for(i.data.copy(f),n-=i.data.length;i=i.next;){if(r=i.data,u=n>r.length?r.length:n,r.copy(f,f.length-n,0,u),n-=u,n===0){u===r.length?(++e,t.head=i.next?i.next:t.tail=null):(t.head=i,i.data=r.slice(u));break}++e}return t.length-=e,f}function d(n){var t=n._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,e(ui,t,n))}function ui(n,t){n.endEmitted||n.length!==0||(n.endEmitted=!0,t.readable=!1,t.emit("end"))}function st(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1}var e=i(14),g,s,y,c,u,tt,p,o,l,b;n.exports=f;g=i(28);f.ReadableState=it;var fi=i(32).EventEmitter,nt=function(n,t){return n.listeners(t).length},v=i(33),h=i(21).Buffer,ht=t.Uint8Array||function(){};y=i(6);y.inherits=i(7);c=i(57);u=void 0;u=c&&c.debuglog?c.debuglog("stream"):function(){};tt=i(58);p=i(34);y.inherits(f,v);l=["error","close","destroy","pause","resume"];Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState===undefined?!1:this._readableState.destroyed},set:function(n){this._readableState&&(this._readableState.destroyed=n)}});f.prototype.destroy=p.destroy;f.prototype._undestroy=p.undestroy;f.prototype._destroy=function(n,t){this.push(null);t(n)};f.prototype.push=function(n,t){var i=this._readableState,r;return i.objectMode?r=!0:typeof n=="string"&&(t=t||i.defaultEncoding,t!==i.encoding&&(n=h.from(n,t),t=""),r=!0),rt(this,n,t,!1,r)};f.prototype.unshift=function(n){return rt(this,n,null,!0,!1)};f.prototype.isPaused=function(){return this._readableState.flowing===!1};f.prototype.setEncoding=function(n){return o||(o=i(36).StringDecoder),this._readableState.decoder=new o(n),this._readableState.encoding=n,this};b=8388608;f.prototype.read=function(n){var t,f,i,r;return(u("read",n),n=parseInt(n,10),t=this._readableState,f=n,n!==0&&(t.emittedReadable=!1),n===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))?(u("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?d(this):a(this),null):(n=ut(n,t),n===0&&t.ended)?(t.length===0&&d(this),null):(i=t.needReadable,u("need readable",i),(t.length===0||t.length-n<t.highWaterMark)&&(i=!0,u("length less than watermark",i)),t.ended||t.reading?(i=!1,u("reading or ended",i)):i&&(u("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(n=ut(f,t))),r=n>0?ot(n,t):null,r===null?(t.needReadable=!0,n=0):t.length-=n,t.length===0&&(t.ended||(t.needReadable=!0),f!==n&&t.ended&&d(this)),r!==null&&this.emit("data",r),r)};f.prototype._read=function(){this.emit("error",new Error("_read() is not implemented"))};f.prototype.pipe=function(n,t){function w(n,t){u("onunpipe");n===f&&t&&t.hasUnpiped===!1&&(t.hasUnpiped=!0,d())}function b(){u("onend");n.end()}function d(){u("cleanup");n.removeListener("close",v);n.removeListener("finish",y);n.removeListener("drain",s);n.removeListener("error",a);n.removeListener("unpipe",w);f.removeListener("end",b);f.removeListener("end",o);f.removeListener("data",k);l=!0;i.awaitDrain&&(!n._writableState||n._writableState.needDrain)&&s()}function k(t){u("ondata");h=!1;var r=n.write(t);!1!==r||h||((i.pipesCount===1&&i.pipes===n||i.pipesCount>1&&st(i.pipes,n)!==-1)&&!l&&(u("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,h=!0),f.pause())}function a(t){u("onerror",t);o();n.removeListener("error",a);nt(n,"error")===0&&n.emit("error",t)}function v(){n.removeListener("finish",y);o()}function y(){u("onfinish");n.removeListener("close",v);o()}function o(){u("unpipe");f.unpipe(n)}var f=this,i=this._readableState,p,c,s,l,h;switch(i.pipesCount){case 0:i.pipes=n;break;case 1:i.pipes=[i.pipes,n];break;default:i.pipes.push(n)}if(i.pipesCount+=1,u("pipe count=%d opts=%j",i.pipesCount,t),p=(!t||t.end!==!1)&&n!==r.stdout&&n!==r.stderr,c=p?b:o,i.endEmitted)e(c);else f.once("end",c);n.on("unpipe",w);s=kt(f);n.on("drain",s);l=!1;h=!1;f.on("data",k);at(n,"error",a);n.once("close",v);n.once("finish",y);return n.emit("pipe",f),i.flowing||(u("pipe resume"),f.resume()),n};f.prototype.unpipe=function(n){var t=this._readableState,r={hasUnpiped:!1},f,e,i,u;if(t.pipesCount===0)return this;if(t.pipesCount===1)return n&&n!==t.pipes?this:(n||(n=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,n&&n.emit("unpipe",this,r),this);if(!n){for(f=t.pipes,e=t.pipesCount,t.pipes=null,t.pipesCount=0,t.flowing=!1,i=0;i<e;i++)f[i].emit("unpipe",this,r);return this}return(u=st(t.pipes,n),u===-1)?this:(t.pipes.splice(u,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),n.emit("unpipe",this,r),this)};f.prototype.on=function(n,t){var r=v.prototype.on.call(this,n,t),i;return n==="data"?this._readableState.flowing!==!1&&this.resume():n==="readable"&&(i=this._readableState,i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&a(this):e(dt,this))),r};f.prototype.addListener=f.prototype.on;f.prototype.resume=function(){var n=this._readableState;return n.flowing||(u("resume"),n.flowing=!0,gt(this,n)),this};f.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this};f.prototype.wrap=function(n){var t=this._readableState,e=!1,i=this,r,f;n.on("end",function(){if(u("wrapped end"),t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&i.push(n)}i.push(null)});n.on("data",function(r){if((u("wrapped data"),t.decoder&&(r=t.decoder.write(r)),!t.objectMode||r!==null&&r!==undefined)&&(t.objectMode||r&&r.length)){var f=i.push(r);f||(e=!0,n.pause())}});for(r in n)this[r]===undefined&&typeof n[r]=="function"&&(this[r]=function(t){return function(){return n[t].apply(n,arguments)}}(r));for(f=0;f<l.length;f++)n.on(l[f],i.emit.bind(i,l[f]));return i._read=function(t){u("wrapped _read",t);e&&(e=!1,n.resume())},i};f._fromList=ot}).call(t,i(2),i(3))},function(n){function t(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}function i(n){return typeof n=="function"}function f(n){return typeof n=="number"}function r(n){return typeof n=="object"&&n!==null}function u(n){return n===void 0}n.exports=t;t.EventEmitter=t;t.prototype._events=undefined;t.prototype._maxListeners=undefined;t.defaultMaxListeners=10;t.prototype.setMaxListeners=function(n){if(!f(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this};t.prototype.emit=function(n){var f,t,c,e,o,s,h;if(this._events||(this._events={}),n==="error"&&(!this._events.error||r(this._events.error)&&!this._events.error.length))if(f=arguments[1],f instanceof Error)throw f;else{h=new Error('Uncaught, unspecified "error" event. ('+f+")");h.context=f;throw h;}if(t=this._events[n],u(t))return!1;if(i(t))switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:e=Array.prototype.slice.call(arguments,1);t.apply(this,e)}else if(r(t))for(e=Array.prototype.slice.call(arguments,1),s=t.slice(),c=s.length,o=0;o<c;o++)s[o].apply(this,e);return!0};t.prototype.addListener=function(n,f){var e;if(!i(f))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",n,i(f.listener)?f.listener:f),this._events[n]?r(this._events[n])?this._events[n].push(f):this._events[n]=[this._events[n],f]:this._events[n]=f,r(this._events[n])&&!this._events[n].warned&&(e=u(this._maxListeners)?t.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[n].length>e&&(this._events[n].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[n].length),typeof console.trace=="function"&&console.trace())),this};t.prototype.on=t.prototype.addListener;t.prototype.once=function(n,t){function r(){this.removeListener(n,r);u||(u=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var u=!1;r.listener=t;this.on(n,r);return this};t.prototype.removeListener=function(n,t){var u,e,o,f;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[n])return this;if(u=this._events[n],o=u.length,e=-1,u===t||i(u.listener)&&u.listener===t)delete this._events[n],this._events.removeListener&&this.emit("removeListener",n,t);else if(r(u)){for(f=o;f-->0;)if(u[f]===t||u[f].listener&&u[f].listener===t){e=f;break}if(e<0)return this;u.length===1?(u.length=0,delete this._events[n]):u.splice(e,1);this._events.removeListener&&this.emit("removeListener",n,t)}return this};t.prototype.removeAllListeners=function(n){var r,t;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[n]&&delete this._events[n],this;if(arguments.length===0){for(r in this._events)r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events={},this}if(t=this._events[n],i(t))this.removeListener(n,t);else if(t)while(t.length)this.removeListener(n,t[t.length-1]);return delete this._events[n],this};t.prototype.listeners=function(n){return this._events&&this._events[n]?i(this._events[n])?[this._events[n]]:this._events[n].slice():[]};t.prototype.listenerCount=function(n){if(this._events){var t=this._events[n];if(i(t))return 1;if(t)return t.length}return 0};t.listenerCount=function(n,t){return n.listenerCount(t)}},function(n,t,i){n.exports=i(32).EventEmitter},function(n,t,i){"use strict";function f(n,t){var i=this,f=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;if(f||e){t?t(n):!n||this._writableState&&this._writableState.errorEmitted||r(u,this,n);return}this._readableState&&(this._readableState.destroyed=!0);this._writableState&&(this._writableState.destroyed=!0);this._destroy(n||null,function(n){!t&&n?(r(u,i,n),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(n)})}function e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1);this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(n,t){n.emit("error",t)}var r=i(14);n.exports={destroy:f,undestroy:e}},function(n,t,i){"use strict";(function(t,r,u){function p(n){var t=this;this.next=null;this.entry=null;this.finish=function(){wt(t,n)}}function it(n){return c.from(n)}function rt(n){return c.isBuffer(n)||n instanceof tt}function ut(){}function s(n,t){var r,u,f;o=o||i(4);n=n||{};this.objectMode=!!n.objectMode;t instanceof o&&(this.objectMode=this.objectMode||!!n.writableObjectMode);r=n.highWaterMark;u=this.objectMode?16:16384;this.highWaterMark=r||r===0?r:u;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=!1;this.needDrain=!1;this.ending=!1;this.ended=!1;this.finished=!1;this.destroyed=!1;f=n.decodeStrings===!1;this.decodeStrings=!f;this.defaultEncoding=n.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(n){lt(t,n)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=!1;this.errorEmitted=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new p(this)}function f(n){if(o=o||i(4),!l.call(f,this)&&!(this instanceof o))return new f(n);this._writableState=new s(n,this);this.writable=!0;n&&(typeof n.write=="function"&&(this._write=n.write),typeof n.writev=="function"&&(this._writev=n.writev),typeof n.destroy=="function"&&(this._destroy=n.destroy),typeof n.final=="function"&&(this._final=n.final));b.call(this)}function ft(n,t){var i=new Error("write after end");n.emit("error",i);e(t,i)}function et(n,t,i,r){var f=!0,u=!1;return i===null?u=new TypeError("May not write null values to stream"):typeof i=="string"||i===undefined||t.objectMode||(u=new TypeError("Invalid non-string/buffer chunk")),u&&(n.emit("error",u),e(r,u),f=!1),f}function ot(n,t,i){return n.objectMode||n.decodeStrings===!1||typeof t!="string"||(t=c.from(t,i)),t}function st(n,t,i,r,u,f){var e,o,s,h;return i||(e=ot(t,r,u),r!==e&&(i=!0,u="buffer",r=e)),o=t.objectMode?1:r.length,t.length+=o,s=t.length<t.highWaterMark,s||(t.needDrain=!0),t.writing||t.corked?(h=t.lastBufferedRequest,t.lastBufferedRequest={chunk:r,encoding:u,isBuf:i,callback:f,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):y(n,t,!1,o,r,u,f),s}function y(n,t,i,r,u,f,e){t.writelen=r;t.writecb=e;t.writing=!0;t.sync=!0;i?n._writev(u,t.onwrite):n._write(u,f,t.onwrite);t.sync=!1}function ht(n,t,i,r,u){--t.pendingcb;i?(e(u,r),e(h,n,t),n._writableState.errorEmitted=!0,n.emit("error",r)):(u(r),n._writableState.errorEmitted=!0,n.emit("error",r),h(n,t))}function ct(n){n.writing=!1;n.writecb=null;n.length-=n.writelen;n.writelen=0}function lt(n,t){var i=n._writableState,f=i.sync,u=i.writecb,r;ct(i);t?ht(n,i,f,t,u):(r=g(i),r||i.corked||i.bufferProcessing||!i.bufferedRequest||d(n,i),f?w(k,n,i,r,u):k(n,i,r,u))}function k(n,t,i,r){i||at(n,t);t.pendingcb--;r();h(n,t)}function at(n,t){t.length===0&&t.needDrain&&(t.needDrain=!1,n.emit("drain"))}function d(n,t){var i,f,e;if(t.bufferProcessing=!0,i=t.bufferedRequest,n._writev&&i&&i.next){var s=t.bufferedRequestCount,u=new Array(s),r=t.corkedRequestsFree;for(r.entry=i,f=0,e=!0;i;)u[f]=i,i.isBuf||(e=!1),i=i.next,f+=1;u.allBuffers=e;y(n,t,!0,t.length,u,"",r.finish);t.pendingcb++;t.lastBufferedRequest=null;r.next?(t.corkedRequestsFree=r.next,r.next=null):t.corkedRequestsFree=new p(t)}else{while(i){var o=i.chunk,h=i.encoding,c=i.callback,l=t.objectMode?1:o.length;if(y(n,t,!1,l,o,h,c),i=i.next,t.writing)break}i===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0;t.bufferedRequest=i;t.bufferProcessing=!1}function g(n){return n.ending&&n.length===0&&n.bufferedRequest===null&&!n.finished&&!n.writing}function vt(n,t){n._final(function(i){t.pendingcb--;i&&n.emit("error",i);t.prefinished=!0;n.emit("prefinish");h(n,t)})}function yt(n,t){t.prefinished||t.finalCalled||(typeof n._final=="function"?(t.pendingcb++,t.finalCalled=!0,e(vt,n,t)):(t.prefinished=!0,n.emit("prefinish")))}function h(n,t){var i=g(t);return i&&(yt(n,t),t.pendingcb===0&&(t.finished=!0,n.emit("finish"))),i}function pt(n,t,i){if(t.ending=!0,h(n,t),i)if(t.finished)e(i);else n.once("finish",i);t.ended=!0;n.writable=!1}function wt(n,t,i){var r=n.entry,u;for(n.entry=null;r;)u=r.callback,t.pendingcb--,u(i),r=r.next;t.corkedRequestsFree?t.corkedRequestsFree.next=n:t.corkedRequestsFree=n}var e=i(14),w,o,a,v,l;n.exports=f;w=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:e;f.WritableState=s;a=i(6);a.inherits=i(7);var nt={deprecate:i(61)},b=i(33),c=i(21).Buffer,tt=u.Uint8Array||function(){};v=i(34);a.inherits(f,b);s.prototype.getBuffer=function(){for(var n=this.bufferedRequest,t=[];n;)t.push(n),n=n.next;return t},function(){try{Object.defineProperty(s.prototype,"buffer",{get:nt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(n){}}();typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(f,Symbol.hasInstance,{value:function(n){return l.call(this,n)?!0:n&&n._writableState instanceof s}})):l=function(n){return n instanceof this};f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};f.prototype.write=function(n,t,i){var r=this._writableState,f=!1,u=rt(n)&&!r.objectMode;return u&&!c.isBuffer(n)&&(n=it(n)),typeof t=="function"&&(i=t,t=null),u?t="buffer":t||(t=r.defaultEncoding),typeof i!="function"&&(i=ut),r.ended?ft(this,i):(u||et(this,r,n,i))&&(r.pendingcb++,f=st(this,r,u,n,t,i)),f};f.prototype.cork=function(){var n=this._writableState;n.corked++};f.prototype.uncork=function(){var n=this._writableState;n.corked&&(n.corked--,n.writing||n.corked||n.finished||n.bufferProcessing||!n.bufferedRequest||d(this,n))};f.prototype.setDefaultEncoding=function(n){if(typeof n=="string"&&(n=n.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((n+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+n);return this._writableState.defaultEncoding=n,this};f.prototype._write=function(n,t,i){i(new Error("_write() is not implemented"))};f.prototype._writev=null;f.prototype.end=function(n,t,i){var r=this._writableState;typeof n=="function"?(i=n,n=null,t=null):typeof t=="function"&&(i=t,t=null);n!==null&&n!==undefined&&this.write(n,t);r.corked&&(r.corked=1,this.uncork());r.ending||r.finished||pt(this,r,i)};Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._writableState===undefined?!1:this._writableState.destroyed},set:function(n){this._writableState&&(this._writableState.destroyed=n)}});f.prototype.destroy=v.destroy;f.prototype._undestroy=v.undestroy;f.prototype._destroy=function(n,t){this.end();t(n)}}).call(t,i(3),i(59).setImmediate,i(2))},function(n,t,i){function e(n){if(n&&!f(n))throw new Error("Unknown encoding: "+n);}function o(n){return n.toString(this.encoding)}function s(n){this.charReceived=n.length%2;this.charLength=this.charReceived?2:0}function h(n){this.charReceived=n.length%3;this.charLength=this.charReceived?3:0}var u=i(0).Buffer,f=u.isEncoding||function(n){switch(n&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},r=t.StringDecoder=function(n){this.encoding=(n||"utf8").toLowerCase().replace(/[-_]/,"");e(n);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=h;break;default:this.write=o;return}this.charBuffer=new u(6);this.charReceived=0;this.charLength=0};r.prototype.write=function(n){for(var t="",f,i,r,u;this.charLength;){if(f=n.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:n.length,n.copy(this.charBuffer,this.charReceived,0,f),this.charReceived+=f,this.charReceived<this.charLength)return"";if(n=n.slice(f,n.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding),r=t.charCodeAt(t.length-1),r>=55296&&r<=56319){this.charLength+=this.surrogateSize;t="";continue}if(this.charReceived=this.charLength=0,n.length===0)return t;break}return(this.detectIncompleteChar(n),i=n.length,this.charLength&&(n.copy(this.charBuffer,0,n.length-this.charReceived,i),i-=this.charReceived),t+=n.toString(this.encoding,0,i),i=t.length-1,r=t.charCodeAt(i),r>=55296&&r<=56319)?(u=this.surrogateSize,this.charLength+=u,this.charReceived+=u,this.charBuffer.copy(this.charBuffer,u,0,u),n.copy(this.charBuffer,0,0,u),t.substring(0,i)):t};r.prototype.detectIncompleteChar=function(n){for(var t=n.length>=3?3:n.length,i;t>0;t--){if(i=n[n.length-t],t==1&&i>>5==6){this.charLength=2;break}if(t<=2&&i>>4==14){this.charLength=3;break}if(t<=3&&i>>3==30){this.charLength=4;break}}this.charReceived=t};r.prototype.end=function(n){var t="";if(n&&n.length&&(t=this.write(n)),this.charReceived){var i=this.charReceived,r=this.charBuffer,u=this.encoding;t+=r.slice(0,i).toString(u)}return t}},function(n,t,i){"use strict";function o(n){this.afterTransform=function(t,i){return s(n,t,i)};this.needTransform=!1;this.transforming=!1;this.writecb=null;this.writechunk=null;this.writeencoding=null}function s(n,t,i){var u=n._transformState,f,r;if(u.transforming=!1,f=u.writecb,!f)return n.emit("error",new Error("write callback called multiple times"));u.writechunk=null;u.writecb=null;i!==null&&i!==undefined&&n.push(i);f(t);r=n._readableState;r.reading=!1;(r.needReadable||r.length<r.highWaterMark)&&n._read(r.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);u.call(this,n);this._transformState=new o(this);var t=this;this._readableState.needReadable=!0;this._readableState.sync=!1;n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush));this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(n,i){e(t,n,i)}):e(t)})}function e(n,t,i){if(t)return n.emit("error",t);i!==null&&i!==undefined&&n.push(i);var r=n._writableState,u=n._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(u.transforming)throw new Error("Calling transform done when still transforming");return n.push(null)}n.exports=r;var u=i(4),f=i(6);f.inherits=i(7);f.inherits(r,u);r.prototype.push=function(n,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,n,t)};r.prototype._transform=function(){throw new Error("_transform() is not implemented");};r.prototype._write=function(n,t,i){var r=this._transformState,u;r.writecb=i;r.writechunk=n;r.writeencoding=t;r.transforming||(u=this._readableState,(r.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark))};r.prototype._read=function(){var n=this._transformState;n.writechunk!==null&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0};r.prototype._destroy=function(n,t){var i=this;u.prototype._destroy.call(this,n,function(n){t(n);i.emit("close")})}},function(n){"use strict";n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(n){"use strict";function t(n,t,i,r){for(var u=n&65535|0,f=n>>>16&65535|0,e=0;i!==0;){e=i>2e3?2e3:i;i-=e;do u=u+t[r++]|0,f=f+u|0;while(--e);u%=65521;f%=65521}return u|f<<16|0}n.exports=t},function(n){"use strict";function t(){for(var i,n,r=[],t=0;t<256;t++){for(n=t,i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;r[t]=n}return r}function r(n,t,r,u){var e=i,o=u+r,f;for(n^=-1,f=u;f<o;f++)n=n>>>8^e[(n^t[f])&255];return n^-1}var i=t();n.exports=r},function(n,t,i){(function(n,r){function f(n,i){var r={seen:[],stylize:et};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(i)?r.showHidden=i:i&&t._extend(r,i),u(r.showHidden)&&(r.showHidden=!1),u(r.depth)&&(r.depth=2),u(r.colors)&&(r.colors=!1),u(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=ft),s(r,n,r.depth)}function ft(n,t){var i=f.styles[t];return i?"\x1b["+f.colors[i][0]+"m"+n+"\x1b["+f.colors[i][1]+"m":n}function et(n){return n}function ot(n){var t={};return n.forEach(function(n){t[n]=!0}),t}function s(n,i,r){var e,y,u,b,d,g,tt;if(n.customInspect&&i&&v(i.inspect)&&i.inspect!==t.inspect&&!(i.constructor&&i.constructor.prototype===i))return e=i.inspect(r,n),c(e)||(e=s(n,e,r)),e;if(y=st(n,i),y)return y;if(u=Object.keys(i),b=ot(u),n.showHidden&&(u=Object.getOwnPropertyNames(i)),a(i)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return p(i);if(u.length===0){if(v(i))return d=i.name?": "+i.name:"",n.stylize("[Function"+d+"]","special");if(l(i))return n.stylize(RegExp.prototype.toString.call(i),"regexp");if(k(i))return n.stylize(Date.prototype.toString.call(i),"date");if(a(i))return p(i)}var f="",o=!1,h=["{","}"];return(nt(i)&&(o=!0,h=["[","]"]),v(i)&&(g=i.name?": "+i.name:"",f=" [Function"+g+"]"),l(i)&&(f=" "+RegExp.prototype.toString.call(i)),k(i)&&(f=" "+Date.prototype.toUTCString.call(i)),a(i)&&(f=" "+p(i)),u.length===0&&(!o||i.length==0))?h[0]+f+h[1]:r<0?l(i)?n.stylize(RegExp.prototype.toString.call(i),"regexp"):n.stylize("[Object]","special"):(n.seen.push(i),tt=o?ht(n,i,r,b,u):u.map(function(t){return w(n,i,r,b,t,o)}),n.seen.pop(),ct(tt,f,h))}function st(n,t){if(u(t))return n.stylize("undefined","undefined");if(c(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(i,"string")}return tt(t)?n.stylize(""+t,"number"):b(t)?n.stylize(""+t,"boolean"):h(t)?n.stylize("null","null"):void 0}function p(n){return"["+Error.prototype.toString.call(n)+"]"}function ht(n,t,i,r,u){for(var f=[],e=0,o=t.length;e<o;++e)rt(t,String(e))?f.push(w(n,t,i,r,String(e),!0)):f.push("");return u.forEach(function(u){u.match(/^\d+$/)||f.push(w(n,t,i,r,u,!0))}),f}function w(n,t,i,r,f,e){var o,c,l;if(l=Object.getOwnPropertyDescriptor(t,f)||{value:t[f]},l.get?c=l.set?n.stylize("[Getter/Setter]","special"):n.stylize("[Getter]","special"):l.set&&(c=n.stylize("[Setter]","special")),rt(r,f)||(o="["+f+"]"),c||(n.seen.indexOf(l.value)<0?(c=h(i)?s(n,l.value,null):s(n,l.value,i-1),c.indexOf("\n")>-1&&(c=e?c.split("\n").map(function(n){return"  "+n}).join("\n").substr(2):"\n"+c.split("\n").map(function(n){return"   "+n}).join("\n"))):c=n.stylize("[Circular]","special")),u(o)){if(e&&f.match(/^\d+$/))return c;o=JSON.stringify(""+f);o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=n.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=n.stylize(o,"string"))}return o+": "+c}function ct(n,t,i){var r=0,u=n.reduce(function(n,t){return r++,t.indexOf("\n")>=0&&r++,n+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return u>60?i[0]+(t===""?"":t+"\n ")+" "+n.join(",\n  ")+" "+i[1]:i[0]+t+" "+n.join(", ")+" "+i[1]}function nt(n){return Array.isArray(n)}function b(n){return typeof n=="boolean"}function h(n){return n===null}function lt(n){return n==null}function tt(n){return typeof n=="number"}function c(n){return typeof n=="string"}function at(n){return typeof n=="symbol"}function u(n){return n===void 0}function l(n){return e(n)&&d(n)==="[object RegExp]"}function e(n){return typeof n=="object"&&n!==null}function k(n){return e(n)&&d(n)==="[object Date]"}function a(n){return e(n)&&(d(n)==="[object Error]"||n instanceof Error)}function v(n){return typeof n=="function"}function vt(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n=="undefined"}function d(n){return Object.prototype.toString.call(n)}function g(n){return n<10?"0"+n.toString(10):n.toString(10)}function yt(){var n=new Date,t=[g(n.getHours()),g(n.getMinutes()),g(n.getSeconds())].join(":");return[n.getDate(),it[n.getMonth()],t].join(" ")}function rt(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var ut=/%[sdj%]/g,o,y,it;t.format=function(n){var u,t,r;if(!c(n)){for(u=[],t=0;t<arguments.length;t++)u.push(f(arguments[t]));return u.join(" ")}var t=1,i=arguments,o=i.length,s=String(n).replace(ut,function(n){if(n==="%%")return"%";if(t>=o)return n;switch(n){case"%s":return String(i[t++]);case"%d":return Number(i[t++]);case"%j":try{return JSON.stringify(i[t++])}catch(r){return"[Circular]"}default:return n}});for(r=i[t];t<o;r=i[++t])s+=h(r)||!e(r)?" "+r:" "+f(r);return s};t.deprecate=function(i,f){function o(){if(!e){if(r.throwDeprecation)throw new Error(f);else r.traceDeprecation?console.trace(f):console.error(f);e=!0}return i.apply(this,arguments)}if(u(n.process))return function(){return t.deprecate(i,f).apply(this,arguments)};if(r.noDeprecation===!0)return i;var e=!1;return o};o={};t.debuglog=function(n){if(u(y)&&(y=r.env.NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(y)){var i=r.pid;o[n]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",n,i,r)}}else o[n]=function(){};return o[n]};t.inspect=f;f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};t.isArray=nt;t.isBoolean=b;t.isNull=h;t.isNullOrUndefined=lt;t.isNumber=tt;t.isString=c;t.isSymbol=at;t.isUndefined=u;t.isRegExp=l;t.isObject=e;t.isDate=k;t.isError=a;t.isFunction=v;t.isPrimitive=vt;t.isBuffer=i(71);it=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",yt(),t.format.apply(t,arguments))};t.inherits=i(72);t._extend=function(n,t){if(!t||!e(t))return n;for(var i=Object.keys(t),r=i.length;r--;)n[i[r]]=t[i[r]];return n}}).call(t,i(2),i(3))},function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function s(n,t,i,r,o){var h,s,c;if(r=r||t.basicOffsetTable,o=o||t.fragments,n===undefined)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(t===undefined)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(i===undefined)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(r===undefined)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if(t.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(t.encapsulatedPixelData!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.hadUndefinedLength!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(t.fragments===undefined)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(r.length===0)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(i<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(i>=r.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";if(h=r[i],s=f(o,h),s===undefined)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";return c=e(i,r,o,s),u.default(n,t,s,c,o)}var r,u,f,e;Object.defineProperty(t,"__esModule",{value:!0});t.default=s;r=i(22);u=o(r);f=function(n,t){for(var i=0;i<n.length;i++)if(n[i].offset===t)return i};e=function(n,t,i,r){var f,u;if(n===t.length-1)return i.length-r;for(f=t[n+1],u=r+1;u<i.length;u++)if(i[u].offset===f)return u-r;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table";}},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et;Object.defineProperty(t,"__esModule",{value:!0});u=i(44);Object.keys(u).forEach(function(n){n!=="default"&&n!=="__esModule"&&Object.defineProperty(t,n,{enumerable:!0,get:function(){return u[n]}})});f=i(8);Object.keys(f).forEach(function(n){n!=="default"&&n!=="__esModule"&&Object.defineProperty(t,n,{enumerable:!0,get:function(){return f[n]}})});e=i(10);Object.keys(e).forEach(function(n){n!=="default"&&n!=="__esModule"&&Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})});o=i(19);Object.defineProperty(t,"alloc",{enumerable:!0,get:function(){return r(o).default}});s=i(51);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r(s).default}});h=i(29);Object.defineProperty(t,"bigEndianByteArrayParser",{enumerable:!0,get:function(){return r(h).default}});c=i(12);Object.defineProperty(t,"ByteStream",{enumerable:!0,get:function(){return r(c).default}});l=i(13);Object.defineProperty(t,"sharedCopy",{enumerable:!0,get:function(){return r(l).default}});a=i(5);Object.defineProperty(t,"DataSet",{enumerable:!0,get:function(){return r(a).default}});v=i(25);Object.defineProperty(t,"findAndSetUNElementLength",{enumerable:!0,get:function(){return r(v).default}});y=i(24);Object.defineProperty(t,"findEndOfEncapsulatedElement",{enumerable:!0,get:function(){return r(y).default}});p=i(17);Object.defineProperty(t,"findItemDelimitationItemAndSetElementLength",{enumerable:!0,get:function(){return r(p).default}});w=i(20);Object.defineProperty(t,"littleEndianByteArrayParser",{enumerable:!0,get:function(){return r(w).default}});b=i(52);Object.defineProperty(t,"parseDicom",{enumerable:!0,get:function(){return r(b).default}});k=i(9);Object.defineProperty(t,"readDicomElementExplicit",{enumerable:!0,get:function(){return r(k).default}});d=i(18);Object.defineProperty(t,"readDicomElementImplicit",{enumerable:!0,get:function(){return r(d).default}});g=i(42);Object.defineProperty(t,"readEncapsulatedImageFrame",{enumerable:!0,get:function(){return r(g).default}});nt=i(74);Object.defineProperty(t,"readEncapsulatedPixelData",{enumerable:!0,get:function(){return r(nt).default}});tt=i(22);Object.defineProperty(t,"readEncapsulatedPixelDataFromFragments",{enumerable:!0,get:function(){return r(tt).default}});it=i(30);Object.defineProperty(t,"readPart10Header",{enumerable:!0,get:function(){return r(it).default}});rt=i(26);Object.defineProperty(t,"readSequenceItemsExplicit",{enumerable:!0,get:function(){return r(rt).default}});ut=i(27);Object.defineProperty(t,"readSequenceItemsImplicit",{enumerable:!0,get:function(){return r(ut).default}});ft=i(11);Object.defineProperty(t,"readSequenceItem",{enumerable:!0,get:function(){return r(ft).default}});et=i(1);Object.defineProperty(t,"readTag",{enumerable:!0,get:function(){return r(et).default}})},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u,f,e,o,s,h;Object.defineProperty(t,"__esModule",{value:!0});u=i(16);Object.keys(u).forEach(function(n){n!=="default"&&n!=="__esModule"&&Object.defineProperty(t,n,{enumerable:!0,get:function(){return u[n]}})});f=i(45);Object.defineProperty(t,"parseTM",{enumerable:!0,get:function(){return r(f).default}});e=i(46);Object.defineProperty(t,"parseDA",{enumerable:!0,get:function(){return r(e).default}});o=i(23);Object.defineProperty(t,"explicitElementToString",{enumerable:!0,get:function(){return r(o).default}});s=i(47);Object.defineProperty(t,"explicitDataSetToJS",{enumerable:!0,get:function(){return r(s).default}});h=i(48);Object.defineProperty(t,"createJPEGBasicOffsetTable",{enumerable:!0,get:function(){return r(h).default}})},function(n,t){"use strict";function i(n,t){if(n.length>=2){var f=parseInt(n.substring(0,2),10),i=n.length>=4?parseInt(n.substring(2,4),10):undefined,r=n.length>=6?parseInt(n.substring(4,6),10):undefined,u=n.length>=8?parseInt(n.substring(7,13),10):undefined;if(t&&(isNaN(f)||i!==undefined&&isNaN(i)||r!==undefined&&isNaN(r)||u!==undefined&&isNaN(u)||f<0||f>23||i&&(i<0||i>59)||r&&(r<0||r>59)||u&&(u<0||u>999999)))throw"invalid TM '"+n+"'";return{hours:f,minutes:i,seconds:r,fractionalSeconds:u}}if(t)throw"invalid TM '"+n+"'";return undefined}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},function(n,t){"use strict";function i(n,t){switch(n){case 2:return t%4==0&&t%100||t%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}function r(n,t,r){return isNaN(r)?!1:t>0&&t<=12&&n>0&&n<=i(t,r)}function u(n,t){if(n&&n.length===8){var i=parseInt(n.substring(0,4),10),u=parseInt(n.substring(4,6),10),f=parseInt(n.substring(6,8),10);if(t&&r(f,u,i)!==!0)throw"invalid DA '"+n+"'";return{year:i,month:u,day:f}}if(t)throw"invalid DA '"+n+"'";return undefined}Object.defineProperty(t,"__esModule",{value:!0});t.default=u},function(n,t,i){"use strict";function s(n){var t,i;if(n&&n.__esModule)return n;if(t={},n!=null)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t.default=n,t}function h(n){return n&&n.__esModule?n:{"default":n}}function r(n,t){var e,u,i,c,s,h;if(n===undefined)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";t=t||{omitPrivateAttibutes:!0,maxElementLength:128};e={};for(u in n.elements)if(i=n.elements[u],t.omitPrivateAttibutes!==!0||!o.isPrivateTag(u))if(i.items){for(c=[],s=0;s<i.items.length;s++)c.push(r(i.items[s].dataSet,t));e[u]=c}else h=undefined,i.length<t.maxElementLength&&(h=f.default(n,i)),e[u]=h!==undefined?h:{dataOffset:i.dataOffset,length:i.length};return e}Object.defineProperty(t,"__esModule",{value:!0});t.default=r;var u=i(23),f=h(u),e=i(16),o=s(e)},function(n,t){"use strict";function i(n,t){return n.byteArray[t]===255&&n.byteArray[t+1]===217}function r(n,t,r){var u=t.fragments[r];return i(n,u.position+u.length-2)||i(n,u.position+u.length-3)?!0:!1}function u(n,t,i){for(var u=i;u<t.fragments.length;u++)if(r(n,t,u))return u}function f(n,t,i){var e,r,f;if(n===undefined)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(t===undefined)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if(t.tag!=="x7fe00010")throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(t.encapsulatedPixelData!==!0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.hadUndefinedLength!==!0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.basicOffsetTable===undefined)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments===undefined)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(i&&i.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";for(i=i||t.fragments,e=[],r=0;;){if(e.push(t.fragments[r].offset),f=u(n,t,r),f===undefined||f===t.fragments.length-1)return e;r=f+1}}Object.defineProperty(t,"__esModule",{value:!0});t.default=f},function(n,t){"use strict";function o(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return n[t-2]==="="?2:n[t-1]==="="?1:0}function h(n){return n.length*3/4-o(n)}function c(n){var t,c,r,e,u,h=n.length,f;for(e=o(n),u=new s(h*3/4-e),c=e>0?h-4:h,f=0,t=0;t<c;t+=4)r=i[n.charCodeAt(t)]<<18|i[n.charCodeAt(t+1)]<<12|i[n.charCodeAt(t+2)]<<6|i[n.charCodeAt(t+3)],u[f++]=r>>16&255,u[f++]=r>>8&255,u[f++]=r&255;return e===2?(r=i[n.charCodeAt(t)]<<2|i[n.charCodeAt(t+1)]>>4,u[f++]=r&255):e===1&&(r=i[n.charCodeAt(t)]<<10|i[n.charCodeAt(t+1)]<<4|i[n.charCodeAt(t+2)]>>2,u[f++]=r>>8&255,u[f++]=r&255),u}function l(n){return r[n>>18&63]+r[n>>12&63]+r[n>>6&63]+r[n&63]}function a(n,t,i){for(var u,f=[],r=t;r<i;r+=3)u=(n[r]<<16)+(n[r+1]<<8)+n[r+2],f.push(l(u));return f.join("")}function v(n){for(var i,u=n.length,e=u%3,t="",o=[],s=16383,f=0,h=u-e;f<h;f+=s)o.push(a(n,f,f+s>h?h:f+s));return e===1?(i=n[u-1],t+=r[i>>2],t+=r[i<<4&63],t+="=="):e===2&&(i=(n[u-2]<<8)+n[u-1],t+=r[i>>10],t+=r[i>>4&63],t+=r[i<<2&63],t+="="),o.push(t),o.join("")}var u,e;t.byteLength=h;t.toByteArray=c;t.fromByteArray=v;var r=[],i=[],s=typeof Uint8Array!="undefined"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(u=0,e=f.length;u<e;++u)r[u]=f[u],i[f.charCodeAt(u)]=u;i["-".charCodeAt(0)]=62;i["_".charCodeAt(0)]=63},function(n,t){t.read=function(n,t,i,r,u){var f,o,l=u*8-r-1,a=(1<<l)-1,v=a>>1,e=-7,s=i?u-1:0,c=i?-1:1,h=n[t+s];for(s+=c,f=h&(1<<-e)-1,h>>=-e,e+=l;e>0;f=f*256+n[t+s],s+=c,e-=8);for(o=f&(1<<-e)-1,f>>=-e,e+=r;e>0;o=o*256+n[t+s],s+=c,e-=8);if(f===0)f=1-v;else{if(f===a)return o?NaN:(h?-1:1)*Infinity;o=o+Math.pow(2,r);f=f-v}return(h?-1:1)*o*Math.pow(2,f-r)};t.write=function(n,t,i,r,u,f){var e,o,s,l=f*8-u-1,a=(1<<l)-1,h=a>>1,y=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=r?0:f-1,v=r?1:-1,p=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(o=isNaN(t)?1:0,e=a):(e=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-e))<1&&(e--,s*=2),t+=e+h>=1?y/s:y*Math.pow(2,1-h),t*s>=2&&(e++,s/=2),e+h>=a?(o=0,e=a):e+h>=1?(o=(t*s-1)*Math.pow(2,u),e=e+h):(o=t*Math.pow(2,h-1)*Math.pow(2,u),e=0));u>=8;n[i+c]=o&255,c+=v,o/=256,u-=8);for(e=e<<u|o,l+=u;l>0;n[i+c]=e&255,c+=v,e/=256,l-=8);n[i+c-v]|=p*128}},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="1.7.6"},function(n,t,i){"use strict";(function(n){function s(n){var t,i;if(n&&n.__esModule)return n;if(t={},n!=null)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t.default=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function it(t,r){function s(n){if(n.elements.x00020010===undefined)throw"dicomParser.parseDicom: missing required meta header attribute 0002,0010";var i=n.elements.x00020010;return nt.readFixedString(t,i.dataOffset,i.length)}function h(n){return n==="1.2.840.10008.1.2"?!1:!0}function c(o,s){var a;if(o==="1.2.840.10008.1.2.1.99"){if(r&&r.inflater)return a=r.inflater(t,s),new u.default(f.default,a,0);if(typeof n!="undefined"&&this.module!==n){var p=i(54),w=d.default(t,s,t.length-s),v=p.inflateRawSync(w),h=e.default(t,v.length+s);return t.copy(h,0,0,s),v.copy(h,s),new u.default(f.default,h,0)}if(typeof pako!="undefined"){var b=t.slice(s),y=pako.inflateRaw(b),c=e.default(t,y.length+s);return c.set(t.slice(0,s),0),c.set(y,s),new u.default(f.default,c,0)}throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax";}return o==="1.2.840.10008.1.2.2"?new u.default(l.default,t,s):new u.default(f.default,t,s)}function a(n,t){for(var i in n.elements)n.elements.hasOwnProperty(i)&&(t.elements[i]=n.elements[i]);return n.warnings!==undefined&&(t.warnings=n.warnings.concat(t.warnings)),t}function v(n){var u=s(n),e=h(u),t=c(u,n.position),i=new y.default(t.byteArrayParser,t.byteArray,{}),f;i.warnings=t.warnings;try{e?o.parseDicomDataSetExplicit(i,t,t.byteArray.length,r):o.parseDicomDataSetImplicit(i,t,t.byteArray.length,r)}catch(l){f={exception:l,dataSet:i};throw f;}return i}function p(){var n=b.default(t,r),i=v(n);return a(n,i)}if(t===undefined)throw"dicomParser.parseDicom: missing required parameter 'byteArray'";return p()}Object.defineProperty(t,"__esModule",{value:!0});t.default=it;var h=i(19),e=r(h),c=i(29),l=r(c),a=i(12),u=r(a),v=i(5),y=r(v),p=i(20),f=r(p),w=i(30),b=r(w),k=i(13),d=r(k),g=i(10),nt=s(g),tt=i(8),o=s(tt)}).call(t,i(53)(n))},function(n){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,t,i){(function(n,r){function o(t,i,r){function f(){for(var n;null!==(n=t.read());)u.push(n),e+=n.length;t.once("readable",f)}function s(n){t.removeListener("end",o);t.removeListener("readable",f);r(n)}function o(){var i=n.concat(u,e);u=[];r(null,i);t.close()}var u=[],e=0;t.on("error",s);t.on("end",o);t.end(i);f()}function s(t,i){if(typeof i=="string"&&(i=new n(i)),!n.isBuffer(i))throw new TypeError("Not a string or buffer");var r=u.Z_FINISH;return t._processChunk(i,r)}function h(n){if(!(this instanceof h))return new h(n);f.call(this,n,u.DEFLATE)}function c(n){if(!(this instanceof c))return new c(n);f.call(this,n,u.INFLATE)}function l(n){if(!(this instanceof l))return new l(n);f.call(this,n,u.GZIP)}function a(n){if(!(this instanceof a))return new a(n);f.call(this,n,u.GUNZIP)}function v(n){if(!(this instanceof v))return new v(n);f.call(this,n,u.DEFLATERAW)}function y(n){if(!(this instanceof y))return new y(n);f.call(this,n,u.INFLATERAW)}function p(n){if(!(this instanceof p))return new p(n);f.call(this,n,u.UNZIP)}function f(i,r){var f,e,o;if(this._opts=i=i||{},this._chunkSize=i.chunkSize||t.Z_DEFAULT_CHUNK,w.call(this,i),i.flush&&i.flush!==u.Z_NO_FLUSH&&i.flush!==u.Z_PARTIAL_FLUSH&&i.flush!==u.Z_SYNC_FLUSH&&i.flush!==u.Z_FULL_FLUSH&&i.flush!==u.Z_FINISH&&i.flush!==u.Z_BLOCK)throw new Error("Invalid flush flag: "+i.flush);if(this._flushFlag=i.flush||u.Z_NO_FLUSH,i.chunkSize&&(i.chunkSize<t.Z_MIN_CHUNK||i.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+i.chunkSize);if(i.windowBits&&(i.windowBits<t.Z_MIN_WINDOWBITS||i.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+i.windowBits);if(i.level&&(i.level<t.Z_MIN_LEVEL||i.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+i.level);if(i.memLevel&&(i.memLevel<t.Z_MIN_MEMLEVEL||i.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+i.memLevel);if(i.strategy&&i.strategy!=t.Z_FILTERED&&i.strategy!=t.Z_HUFFMAN_ONLY&&i.strategy!=t.Z_RLE&&i.strategy!=t.Z_FIXED&&i.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+i.strategy);if(i.dictionary&&!n.isBuffer(i.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new u.Zlib(r);f=this;this._hadError=!1;this._binding.onerror=function(n,i){f._binding=null;f._hadError=!0;var r=new Error(n);r.errno=i;r.code=t.codes[i];f.emit("error",r)};e=t.Z_DEFAULT_COMPRESSION;typeof i.level=="number"&&(e=i.level);o=t.Z_DEFAULT_STRATEGY;typeof i.strategy=="number"&&(o=i.strategy);this._binding.init(i.windowBits||t.Z_DEFAULT_WINDOWBITS,e,i.memLevel||t.Z_DEFAULT_MEMLEVEL,o,i.dictionary);this._buffer=new n(this._chunkSize);this._offset=0;this._closed=!1;this._level=e;this._strategy=o;this.once("end",this.close)}var w=i(55),u=i(63),e=i(41),b=i(73).ok;u.Z_MIN_WINDOWBITS=8;u.Z_MAX_WINDOWBITS=15;u.Z_DEFAULT_WINDOWBITS=15;u.Z_MIN_CHUNK=64;u.Z_MAX_CHUNK=Infinity;u.Z_DEFAULT_CHUNK=16384;u.Z_MIN_MEMLEVEL=1;u.Z_MAX_MEMLEVEL=9;u.Z_DEFAULT_MEMLEVEL=8;u.Z_MIN_LEVEL=-1;u.Z_MAX_LEVEL=9;u.Z_DEFAULT_LEVEL=u.Z_DEFAULT_COMPRESSION;Object.keys(u).forEach(function(n){n.match(/^Z/)&&(t[n]=u[n])});t.codes={Z_OK:u.Z_OK,Z_STREAM_END:u.Z_STREAM_END,Z_NEED_DICT:u.Z_NEED_DICT,Z_ERRNO:u.Z_ERRNO,Z_STREAM_ERROR:u.Z_STREAM_ERROR,Z_DATA_ERROR:u.Z_DATA_ERROR,Z_MEM_ERROR:u.Z_MEM_ERROR,Z_BUF_ERROR:u.Z_BUF_ERROR,Z_VERSION_ERROR:u.Z_VERSION_ERROR};Object.keys(t.codes).forEach(function(n){t.codes[t.codes[n]]=n});t.Deflate=h;t.Inflate=c;t.Gzip=l;t.Gunzip=a;t.DeflateRaw=v;t.InflateRaw=y;t.Unzip=p;t.createDeflate=function(n){return new h(n)};t.createInflate=function(n){return new c(n)};t.createDeflateRaw=function(n){return new v(n)};t.createInflateRaw=function(n){return new y(n)};t.createGzip=function(n){return new l(n)};t.createGunzip=function(n){return new a(n)};t.createUnzip=function(n){return new p(n)};t.deflate=function(n,t,i){return typeof t=="function"&&(i=t,t={}),o(new h(t),n,i)};t.deflateSync=function(n,t){return s(new h(t),n)};t.gzip=function(n,t,i){return typeof t=="function"&&(i=t,t={}),o(new l(t),n,i)};t.gzipSync=function(n,t){return s(new l(t),n)};t.deflateRaw=function(n,t,i){return typeof t=="function"&&(i=t,t={}),o(new v(t),n,i)};t.deflateRawSync=function(n,t){return s(new v(t),n)};t.unzip=function(n,t,i){return typeof t=="function"&&(i=t,t={}),o(new p(t),n,i)};t.unzipSync=function(n,t){return s(new p(t),n)};t.inflate=function(n,t,i){return typeof t=="function"&&(i=t,t={}),o(new c(t),n,i)};t.inflateSync=function(n,t){return s(new c(t),n)};t.gunzip=function(n,t,i){return typeof t=="function"&&(i=t,t={}),o(new a(t),n,i)};t.gunzipSync=function(n,t){return s(new a(t),n)};t.inflateRaw=function(n,t,i){return typeof t=="function"&&(i=t,t={}),o(new y(t),n,i)};t.inflateRawSync=function(n,t){return s(new y(t),n)};e.inherits(f,w);f.prototype.params=function(n,i,f){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(i!=t.Z_FILTERED&&i!=t.Z_HUFFMAN_ONLY&&i!=t.Z_RLE&&i!=t.Z_FIXED&&i!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+i);if(this._level!==n||this._strategy!==i){var e=this;this.flush(u.Z_SYNC_FLUSH,function(){e._binding.params(n,i);e._hadError||(e._level=n,e._strategy=i,f&&f())})}else r.nextTick(f)};f.prototype.reset=function(){return this._binding.reset()};f.prototype._flush=function(t){this._transform(new n(0),"",t)};f.prototype.flush=function(t,i){var f=this._writableState,e;if(typeof t!="function"&&(t!==void 0||i)||(i=t,t=u.Z_FULL_FLUSH),f.ended)i&&r.nextTick(i);else if(f.ending){if(i)this.once("end",i)}else if(f.needDrain){e=this;this.once("drain",function(){e.flush(i)})}else this._flushFlag=t,this.write(new n(0),"",i)};f.prototype.close=function(n){if(n&&r.nextTick(n),!this._closed){this._closed=!0;this._binding.close();var t=this;r.nextTick(function(){t.emit("close")})}};f.prototype._transform=function(t,i,r){var e,f=this._writableState,o=f.ending||f.ended,s=o&&(!t||f.length===t.length),h;if(!1&&!n.isBuffer(t))return r(new Error("invalid input"));s?e=u.Z_FINISH:(e=this._flushFlag,t.length>=f.length&&(this._flushFlag=this._opts.flush||u.Z_NO_FLUSH));h=this;this._processChunk(t,e,r)};f.prototype._processChunk=function(t,i,r){function v(l,a){var y,p,w;if(!u._hadError){if(y=e-a,b(y>=0,"have should not go down"),y>0&&(p=u._buffer.slice(u._offset,u._offset+y),u._offset+=y,s?u.push(p):(h.push(p),c+=p.length)),(a===0||u._offset>=u._chunkSize)&&(e=u._chunkSize,u._offset=0,u._buffer=new n(u._chunkSize)),a===0){if(o+=f-l,f=l,!s)return!0;w=u._binding.write(i,t,o,f,u._buffer,u._offset,u._chunkSize);w.callback=v;w.buffer=t;return}if(!s)return!1;r()}}var f=t&&t.length,e=this._chunkSize-this._offset,o=0,u=this,s=typeof r=="function",h,c,y,l,p,a;if(!s){h=[];c=0;this.on("error",function(n){y=n});do l=this._binding.writeSync(i,t,o,f,this._buffer,this._offset,e);while(!this._hadError&&v(l[0],l[1]));if(this._hadError)throw y;return p=n.concat(h,c),this.close(),p}a=this._binding.write(i,t,o,f,this._buffer,this._offset,e);a.buffer=t;a.callback=v};e.inherits(h,f);e.inherits(c,f);e.inherits(l,f);e.inherits(a,f);e.inherits(v,f);e.inherits(y,f);e.inherits(p,f)}).call(t,i(0).Buffer,i(3))},function(n,t,i){n.exports=i(56).Transform},function(n,t,i){t=n.exports=i(31);t.Stream=t;t.Readable=t;t.Writable=i(35);t.Duplex=i(4);t.Transform=i(37);t.PassThrough=i(62)},function(){},function(n,t,i){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t,i){n.copy(t,i)}var r=i(21).Buffer;n.exports=function(){function n(){u(this,n);this.head=null;this.tail=null;this.length=0}return n.prototype.push=function(n){var t={data:n,next:null};this.length>0?this.tail.next=t:this.head=t;this.tail=t;++this.length},n.prototype.unshift=function(n){var t={data:n,next:this.head};this.length===0&&(this.tail=t);this.head=t;++this.length},n.prototype.shift=function(){if(this.length!==0){var n=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,n}},n.prototype.clear=function(){this.head=this.tail=null;this.length=0},n.prototype.join=function(n){if(this.length===0)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=n+t.data;return i},n.prototype.concat=function(n){if(this.length===0)return r.alloc(0);if(this.length===1)return this.head.data;for(var i=r.allocUnsafe(n>>>0),t=this.head,u=0;t;)f(t.data,i,u),u+=t.data.length,t=t.next;return i},n}()},function(n,t,i){function r(n,t){this._id=n;this._clearFn=t}var u=Function.prototype.apply;t.setTimeout=function(){return new r(u.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new r(u.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(n){n&&n.close()};r.prototype.unref=r.prototype.ref=function(){};r.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(n,t){clearTimeout(n._idleTimeoutId);n._idleTimeout=t};t.unenroll=function(n){clearTimeout(n._idleTimeoutId);n._idleTimeout=-1};t._unrefActive=t.active=function(n){clearTimeout(n._idleTimeoutId);var t=n._idleTimeout;t>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},t))};i(60);t.setImmediate=setImmediate;t.clearImmediate=clearImmediate},function(n,t,i){(function(n,t){(function(n,i){"use strict";function l(n){var i,t,r;for(typeof n!="function"&&(n=new Function(""+n)),i=new Array(arguments.length-1),t=0;t<i.length;t++)i[t]=arguments[t+1];return r={callback:n,args:i},s[o]=r,u(o),o++}function c(n){delete s[n]}function a(n){var r=n.callback,t=n.args;switch(t.length){case 0:r();break;case 1:r(t[0]);break;case 2:r(t[0],t[1]);break;case 3:r(t[0],t[1],t[2]);break;default:r.apply(i,t)}}function f(n){if(h)setTimeout(f,0,n);else{var t=s[n];if(t){h=!0;try{a(t)}finally{c(n);h=!1}}}}function v(){u=function(n){t.nextTick(function(){f(n)})}}function y(){if(n.postMessage&&!n.importScripts){var t=!0,i=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=i,t}}function p(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===n&&typeof i.data=="string"&&i.data.indexOf(t)===0&&f(+i.data.slice(t.length))};n.addEventListener?n.addEventListener("message",i,!1):n.attachEvent("onmessage",i);u=function(i){n.postMessage(t+i,"*")}}function w(){var n=new MessageChannel;n.port1.onmessage=function(n){var t=n.data;f(t)};u=function(t){n.port2.postMessage(t)}}function b(){var n=e.documentElement;u=function(t){var i=e.createElement("script");i.onreadystatechange=function(){f(t);i.onreadystatechange=null;n.removeChild(i);i=null};n.appendChild(i)}}function k(){u=function(n){setTimeout(f,0,n)}}var r;if(!n.setImmediate){var o=1,s={},h=!1,e=n.document,u;r=Object.getPrototypeOf&&Object.getPrototypeOf(n);r=r&&r.setTimeout?r:n,{}.toString.call(n.process)==="[object process]"?v():y()?p():n.MessageChannel?w():e&&"onreadystatechange"in e.createElement("script")?b():k();r.setImmediate=l;r.clearImmediate=c}})(typeof self=="undefined"?typeof n=="undefined"?this:n:self)}).call(t,i(2),i(3))},function(n,t,i){(function(t){function r(n,t){function u(){if(!r){if(i("throwDeprecation"))throw new Error(t);else i("traceDeprecation")?console.trace(t):console.warn(t);r=!0}return n.apply(this,arguments)}if(i("noDeprecation"))return n;var r=!1;return u}function i(n){try{if(!t.localStorage)return!1}catch(r){return!1}var i=t.localStorage[n];return null==i?!1:String(i).toLowerCase()==="true"}n.exports=r}).call(t,i(2))},function(n,t,i){"use strict";function r(n){if(!(this instanceof r))return new r(n);u.call(this,n)}n.exports=r;var u=i(37),f=i(6);f.inherits=i(7);f.inherits(r,u);r.prototype._transform=function(n,t,i){i(null,n)}},function(n,t,i){(function(n,r){function u(n){if(n<t.DEFLATE||n>t.UNZIP)throw new TypeError("Bad argument");this.mode=n;this.init_done=!1;this.write_in_progress=!1;this.pending_close=!1;this.windowBits=0;this.level=0;this.memLevel=0;this.strategy=0;this.dictionary=null}function l(n,t){for(var i=0;i<n.length;i++)this[t+i]=n[i]}var h=i(38),c=i(64),f=i(65),e=i(67),o=i(70);for(var s in o)t[s]=o[s];t.NONE=0;t.DEFLATE=1;t.INFLATE=2;t.GZIP=3;t.GUNZIP=4;t.DEFLATERAW=5;t.INFLATERAW=6;t.UNZIP=7;u.prototype.init=function(n,i,r,u){var o;this.windowBits=n;this.level=i;this.memLevel=r;this.strategy=u;(this.mode===t.GZIP||this.mode===t.GUNZIP)&&(this.windowBits+=16);this.mode===t.UNZIP&&(this.windowBits+=32);(this.mode===t.DEFLATERAW||this.mode===t.INFLATERAW)&&(this.windowBits=-this.windowBits);this.strm=new c;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:o=f.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:o=e.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode);}if(o!==t.Z_OK){this._error(o);return}this.write_in_progress=!1;this.init_done=!0};u.prototype.params=function(){throw new Error("deflateParams Not supported");};u.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===t.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending");};u.prototype.write=function(t,i,r,u,f,e,o){this._writeCheck();this.write_in_progress=!0;var s=this;return n.nextTick(function(){s.write_in_progress=!1;var n=s._write(t,i,r,u,f,e,o);s.callback(n[0],n[1]);s.pending_close&&s.close()}),this};u.prototype.writeSync=function(n,t,i,r,u,f,e){return this._writeCheck(),this._write(n,t,i,r,u,f,e)};u.prototype._write=function(n,i,u,o,s,h,c){var a,v;if(this.write_in_progress=!0,n!==t.Z_NO_FLUSH&&n!==t.Z_PARTIAL_FLUSH&&n!==t.Z_SYNC_FLUSH&&n!==t.Z_FULL_FLUSH&&n!==t.Z_FINISH&&n!==t.Z_BLOCK)throw new Error("Invalid flush value");i==null&&(i=new r(0),o=0,u=0);s.set=s._set?s._set:l;a=this.strm;a.avail_in=o;a.input=i;a.next_in=u;a.avail_out=c;a.output=s;a.next_out=h;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:v=f.deflate(a,n);break;case t.UNZIP:case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:v=e.inflate(a,n);break;default:throw new Error("Unknown mode "+this.mode);}return v!==t.Z_STREAM_END&&v!==t.Z_OK&&this._error(v),this.write_in_progress=!1,[a.avail_in,a.avail_out]};u.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1;this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?f.deflateEnd(this.strm):e.inflateEnd(this.strm);this.mode=t.NONE};u.prototype.reset=function(){var n;switch(this.mode){case t.DEFLATE:case t.DEFLATERAW:n=f.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:n=e.inflateReset(this.strm)}n!==t.Z_OK&&this._error(n)};u.prototype._error=function(n){this.onerror(h[n]+": "+this.strm.msg,n);this.write_in_progress=!1;this.pending_close&&this.close()};t.Zlib=u}).call(t,i(3),i(0).Buffer)},function(n){"use strict";function t(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}n.exports=t},function(n,t,i){"use strict";function w(n,t){return n.msg=fi[t],t}function ni(n){return(n<<1)-(n>4?9:0)}function b(n){for(var t=n.length;--t>=0;)n[t]=0}function k(n){var i=n.state,t=i.pending;(t>n.avail_out&&(t=n.avail_out),t!==0)&&(o.arraySet(n.output,i.pending_buf,i.pending_out,t,n.next_out),n.next_out+=t,i.pending_out+=t,n.total_out+=t,n.avail_out-=t,i.pending-=t,i.pending===0&&(i.pending_out=0))}function e(n,t){s._tr_flush_block(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t);n.block_start=n.strstart;k(n.strm)}function u(n,t){n.pending_buf[n.pending++]=t}function ot(n,t){n.pending_buf[n.pending++]=t>>>8&255;n.pending_buf[n.pending++]=t&255}function rr(n,t,i,r){var u=n.avail_in;return(u>r&&(u=r),u===0)?0:(n.avail_in-=u,o.arraySet(t,n.input,n.next_in,u,i),n.state.wrap===1?n.adler=kt(n.adler,t,u,i):n.state.wrap===2&&(n.adler=v(n.adler,t,u,i)),n.next_in+=u,n.total_in+=u,u)}function ti(n,t){var h=n.max_chain_length,r=n.strstart,u,e,f=n.prev_length,o=n.nice_match,v=n.strstart>n.w_size-c?n.strstart-(n.w_size-c):0,i=n.window,y=n.w_mask,w=n.prev,s=n.strstart+p,l=i[r+f-1],a=i[r+f];n.prev_length>=n.good_match&&(h>>=2);o>n.lookahead&&(o=n.lookahead);do if(u=t,i[u+f]===a&&i[u+f-1]===l&&i[u]===i[r]&&i[++u]===i[r+1]){r+=2;u++;do;while(i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&i[++r]===i[++u]&&r<s);if(e=p-(s-r),r=s-p,e>f){if(n.match_start=t,f=e,e>=o)break;l=i[r+f-1];a=i[r+f]}}while((t=w[t&y])>v&&--h!=0);return f<=n.lookahead?f:n.lookahead}function tt(n){var t=n.w_size,f,i,e,s,u;do{if(s=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-c)){o.arraySet(n.window,n.window,t,t,0);n.match_start-=t;n.strstart-=t;n.block_start-=t;i=n.hash_size;f=i;do e=n.head[--f],n.head[f]=e>=t?e-t:0;while(--i);i=t;f=i;do e=n.prev[--f],n.prev[f]=e>=t?e-t:0;while(--i);s+=t}if(n.strm.avail_in===0)break;if(i=rr(n.strm,n.window,n.strstart+n.lookahead,s),n.lookahead+=i,n.lookahead+n.insert>=r)for(u=n.strstart-n.insert,n.ins_h=n.window[u],n.ins_h=(n.ins_h<<n.hash_shift^n.window[u+1])&n.hash_mask;n.insert;)if(n.ins_h=(n.ins_h<<n.hash_shift^n.window[u+r-1])&n.hash_mask,n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++,n.insert--,n.lookahead+n.insert<r)break}while(n.lookahead<c&&n.strm.avail_in!==0)}function ur(n,t){var r=65535,i;for(r>n.pending_buf_size-5&&(r=n.pending_buf_size-5);;){if(n.lookahead<=1){if(tt(n),n.lookahead===0&&t===d)return f;if(n.lookahead===0)break}if((n.strstart+=n.lookahead,n.lookahead=0,i=n.block_start+r,(n.strstart===0||n.strstart>=i)&&(n.lookahead=n.strstart-i,n.strstart=i,e(n,!1),n.strm.avail_out===0))||n.strstart-n.block_start>=n.w_size-c&&(e(n,!1),n.strm.avail_out===0))return f}return(n.insert=0,t===y)?(e(n,!0),n.strm.avail_out===0)?nt:it:(n.strstart>n.block_start&&(e(n,!1),n.strm.avail_out===0),f)}function bt(n,t){for(var i,u;;){if(n.lookahead<c){if(tt(n),n.lookahead<c&&t===d)return f;if(n.lookahead===0)break}if(i=0,n.lookahead>=r&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+r-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),i!==0&&n.strstart-i<=n.w_size-c&&(n.match_length=ti(n,i)),n.match_length>=r)if(u=s._tr_tally(n,n.strstart-n.match_start,n.match_length-r),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=r){n.match_length--;do n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+r-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!=0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else u=s._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(u&&(e(n,!1),n.strm.avail_out===0))return f}return(n.insert=n.strstart<r-1?n.strstart:r-1,t===y)?(e(n,!0),n.strm.avail_out===0)?nt:it:n.last_lit&&(e(n,!1),n.strm.avail_out===0)?f:et}function rt(n,t){for(var i,u,o;;){if(n.lookahead<c){if(tt(n),n.lookahead<c&&t===d)return f;if(n.lookahead===0)break}if(i=0,n.lookahead>=r&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+r-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=r-1,i!==0&&n.prev_length<n.max_lazy_match&&n.strstart-i<=n.w_size-c&&(n.match_length=ti(n,i),n.match_length<=5&&(n.strategy===ci||n.match_length===r&&n.strstart-n.match_start>4096)&&(n.match_length=r-1)),n.prev_length>=r&&n.match_length<=n.prev_length){o=n.strstart+n.lookahead-r;u=s._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-r);n.lookahead-=n.prev_length-1;n.prev_length-=2;do++n.strstart<=o&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+r-1])&n.hash_mask,i=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!=0);if(n.match_available=0,n.match_length=r-1,n.strstart++,u&&(e(n,!1),n.strm.avail_out===0))return f}else if(n.match_available){if(u=s._tr_tally(n,0,n.window[n.strstart-1]),u&&e(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return f}else n.match_available=1,n.strstart++,n.lookahead--}return(n.match_available&&(u=s._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<r-1?n.strstart:r-1,t===y)?(e(n,!0),n.strm.avail_out===0)?nt:it:n.last_lit&&(e(n,!1),n.strm.avail_out===0)?f:et}function fr(n,t){for(var h,u,i,c,o=n.window;;){if(n.lookahead<=p){if(tt(n),n.lookahead<=p&&t===d)return f;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=r&&n.strstart>0&&(i=n.strstart-1,u=o[i],u===o[++i]&&u===o[++i]&&u===o[++i])){c=n.strstart+p;do;while(u===o[++i]&&u===o[++i]&&u===o[++i]&&u===o[++i]&&u===o[++i]&&u===o[++i]&&u===o[++i]&&u===o[++i]&&i<c);n.match_length=p-(c-i);n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=r?(h=s._tr_tally(n,1,n.match_length-r),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(h=s._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),h&&(e(n,!1),n.strm.avail_out===0))return f}return(n.insert=0,t===y)?(e(n,!0),n.strm.avail_out===0)?nt:it:n.last_lit&&(e(n,!1),n.strm.avail_out===0)?f:et}function er(n,t){for(var i;;){if(n.lookahead===0&&(tt(n),n.lookahead===0)){if(t===d)return f;break}if(n.match_length=0,i=s._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,i&&(e(n,!1),n.strm.avail_out===0))return f}return(n.insert=0,t===y)?(e(n,!0),n.strm.avail_out===0)?nt:it:n.last_lit&&(e(n,!1),n.strm.avail_out===0)?f:et}function a(n,t,i,r,u){this.good_length=n;this.max_lazy=t;this.nice_length=i;this.max_chain=r;this.func=u}function or(n){n.window_size=2*n.w_size;b(n.head);n.max_lazy_match=ut[n.level].max_lazy;n.good_match=ut[n.level].good_length;n.nice_match=ut[n.level].nice_length;n.max_chain_length=ut[n.level].max_chain;n.strstart=0;n.block_start=0;n.lookahead=0;n.insert=0;n.match_length=n.prev_length=r-1;n.match_available=0;n.ins_h=0}function sr(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=ht;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new o.Buf16(gi*2);this.dyn_dtree=new o.Buf16((2*ki+1)*2);this.bl_tree=new o.Buf16((2*di+1)*2);b(this.dyn_ltree);b(this.dyn_dtree);b(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new o.Buf16(nr+1);this.heap=new o.Buf16(2*pt+1);b(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new o.Buf16(2*pt+1);b(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function ii(n){var t;return!n||!n.state?w(n,h):(n.total_in=n.total_out=0,n.data_type=yi,t=n.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?ct:g,n.adler=t.wrap===2?0:1,t.last_flush=d,s._tr_init(t),l)}function ri(n){var t=ii(n);return t===l&&or(n.state),t}function hr(n,t){return!n||!n.state?h:n.state.wrap!==2?h:(n.state.gzhead=t,l)}function ui(n,t,i,u,f,e){var c,s;return n?(c=1,t===hi&&(t=6),u<0?(c=0,u=-u):u>15&&(c=2,u-=16),f<1||f>pi||i!==ht||u<8||u>15||t<0||t>9||e<0||e>ai)?w(n,h):(u===8&&(u=9),s=new sr,n.state=s,s.strm=n,s.wrap=c,s.gzhead=null,s.w_bits=u,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=f+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+r-1)/r),s.window=new o.Buf8(s.w_size*2),s.head=new o.Buf16(s.hash_size),s.prev=new o.Buf16(s.w_size),s.lit_bufsize=1<<f+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new o.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=e,s.method=i,ri(n)):h}function cr(n,t){return ui(n,t,ht,wi,bi,vi)}function lr(n,t){var p,i,r,e,o,a,c;if(!n||!n.state||t>dt||t<0)return n?w(n,h):h;if(i=n.state,!n.output||!n.input&&n.avail_in!==0||i.status===ft&&t!==y)return w(n,n.avail_out===0?yt:h);if(i.strm=n,p=i.last_flush,i.last_flush=t,i.status===ct&&(i.wrap===2?(n.adler=0,u(i,31),u(i,139),u(i,8),i.gzhead?(u(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),u(i,i.gzhead.time&255),u(i,i.gzhead.time>>8&255),u(i,i.gzhead.time>>16&255),u(i,i.gzhead.time>>24&255),u(i,i.level===9?2:i.strategy>=st||i.level<2?4:0),u(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(u(i,i.gzhead.extra.length&255),u(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(n.adler=v(n.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=wt):(u(i,0),u(i,0),u(i,0),u(i,0),u(i,0),u(i,i.level===9?2:i.strategy>=st||i.level<2?4:0),u(i,ir),i.status=g)):(o=ht+(i.w_bits-8<<4)<<8,a=-1,a=i.strategy>=st||i.level<2?0:i.level<6?1:i.level===6?2:3,o|=a<<6,i.strstart!==0&&(o|=tr),o+=31-o%31,i.status=g,ot(i,o),i.strstart!==0&&(ot(i,n.adler>>>16),ot(i,n.adler&65535)),n.adler=1)),i.status===wt)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(i.gzhead.extra.length&65535);){if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r)),k(n),r=i.pending,i.pending===i.pending_buf_size))break;u(i,i.gzhead.extra[i.gzindex]&255);i.gzindex++}i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r));i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=lt)}else i.status=lt;if(i.status===lt)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r)),k(n),r=i.pending,i.pending===i.pending_buf_size)){e=1;break}e=i.gzindex<i.gzhead.name.length?i.gzhead.name.charCodeAt(i.gzindex++)&255:0;u(i,e)}while(e!==0);i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r));e===0&&(i.gzindex=0,i.status=at)}else i.status=at;if(i.status===at)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r)),k(n),r=i.pending,i.pending===i.pending_buf_size)){e=1;break}e=i.gzindex<i.gzhead.comment.length?i.gzhead.comment.charCodeAt(i.gzindex++)&255:0;u(i,e)}while(e!==0);i.gzhead.hcrc&&i.pending>r&&(n.adler=v(n.adler,i.pending_buf,i.pending-r,r));e===0&&(i.status=vt)}else i.status=vt;if(i.status===vt&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&k(n),i.pending+2<=i.pending_buf_size&&(u(i,n.adler&255),u(i,n.adler>>8&255),n.adler=0,i.status=g)):i.status=g),i.pending!==0){if(k(n),n.avail_out===0)return i.last_flush=-1,l}else if(n.avail_in===0&&ni(t)<=ni(p)&&t!==y)return w(n,yt);if(i.status===ft&&n.avail_in!==0)return w(n,yt);if(n.avail_in!==0||i.lookahead!==0||t!==d&&i.status!==ft){if(c=i.strategy===st?er(i,t):i.strategy===li?fr(i,t):ut[i.level].func(i,t),(c===nt||c===it)&&(i.status=ft),c===f||c===nt)return n.avail_out===0&&(i.last_flush=-1),l;if(c===et&&(t===ei?s._tr_align(i):t!==dt&&(s._tr_stored_block(i,0,0,!1),t===oi&&(b(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),k(n),n.avail_out===0))return i.last_flush=-1,l}return t!==y?l:i.wrap<=0?gt:(i.wrap===2?(u(i,n.adler&255),u(i,n.adler>>8&255),u(i,n.adler>>16&255),u(i,n.adler>>24&255),u(i,n.total_in&255),u(i,n.total_in>>8&255),u(i,n.total_in>>16&255),u(i,n.total_in>>24&255)):(ot(i,n.adler>>>16),ot(i,n.adler&65535)),k(n),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?l:gt)}function ar(n){var t;return!n||!n.state?h:(t=n.state.status,t!==ct&&t!==wt&&t!==lt&&t!==at&&t!==vt&&t!==g&&t!==ft)?w(n,h):(n.state=null,t===g?w(n,si):l)}function vr(n,t){var e=t.length,i,u,c,f,a,v,y,s;if(!n||!n.state||(i=n.state,f=i.wrap,f===2||f===1&&i.status!==ct||i.lookahead))return h;for(f===1&&(n.adler=kt(n.adler,t,e,0)),i.wrap=0,e>=i.w_size&&(f===0&&(b(i.head),i.strstart=0,i.block_start=0,i.insert=0),s=new o.Buf8(i.w_size),o.arraySet(s,t,e-i.w_size,i.w_size,0),t=s,e=i.w_size),a=n.avail_in,v=n.next_in,y=n.input,n.avail_in=e,n.next_in=0,n.input=t,tt(i);i.lookahead>=r;){u=i.strstart;c=i.lookahead-(r-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[u+r-1])&i.hash_mask,i.prev[u&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=u,u++;while(--c);i.strstart=u;i.lookahead=r-1;tt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=r-1,i.match_available=0,n.next_in=v,n.input=y,n.avail_in=a,i.wrap=f,l}var o=i(15),s=i(66),kt=i(39),v=i(40),fi=i(38),d=0,ei=1,oi=3,y=4,dt=5,l=0,gt=1,h=-2,si=-3,yt=-5,hi=-1,ci=1,st=2,li=3,ai=4,vi=0,yi=2,ht=8,pi=9,wi=15,bi=8,pt=286,ki=30,di=19,gi=2*pt+1,nr=15,r=3,p=258,c=p+r+1,tr=32,ct=42,wt=69,lt=73,at=91,vt=103,g=113,ft=666,f=1,et=2,nt=3,it=4,ir=3,ut;ut=[new a(0,0,0,0,ur),new a(4,4,8,4,bt),new a(4,5,16,8,bt),new a(4,6,32,32,bt),new a(4,4,16,16,rt),new a(8,16,32,32,rt),new a(8,16,128,128,rt),new a(8,32,128,256,rt),new a(32,128,258,1024,rt),new a(32,258,258,4096,rt)];t.deflateInit=cr;t.deflateInit2=ui;t.deflateReset=ri;t.deflateResetKeep=ii;t.deflateSetHeader=hr;t.deflate=lr;t.deflateEnd=ar;t.deflateSetDictionary=vr;t.deflateInfo="pako deflate (from Nodeca project)"},function(n,t,i){"use strict";function o(n){for(var t=n.length;--t>=0;)n[t]=0}function it(n,t,i,r,u){this.static_tree=n;this.extra_bits=t;this.extra_base=i;this.elems=r;this.max_length=u;this.has_stree=n&&n.length}function rt(n,t){this.dyn_tree=n;this.max_code=0;this.stat_desc=t}function kt(n){return n<256?c[n]:c[256+(n>>>7)]}function p(n,t){n.pending_buf[n.pending++]=t&255;n.pending_buf[n.pending++]=t>>>8&255}function r(n,t,i){n.bi_valid>g-i?(n.bi_buf|=t<<n.bi_valid&65535,p(n,n.bi_buf),n.bi_buf=t>>g-n.bi_valid,n.bi_valid+=i-g):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=i)}function u(n,t,i){r(n,i[t*2],i[t*2+1])}function dt(n,t){var i=0;do i|=n&1,n>>>=1,i<<=1;while(--t>0);return i>>>1}function yi(n){n.bi_valid===16?(p(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)}function pi(n,t){for(var u=t.dyn_tree,a=t.max_code,y=t.stat_desc.static_tree,p=t.stat_desc.has_stree,w=t.stat_desc.extra_bits,v=t.stat_desc.extra_base,o=t.stat_desc.max_length,s,r,f,h,l,c=0,i=0;i<=e;i++)n.bl_count[i]=0;for(u[n.heap[n.heap_max]*2+1]=0,s=n.heap_max+1;s<ct;s++)(r=n.heap[s],i=u[u[r*2+1]*2+1]+1,i>o&&(i=o,c++),u[r*2+1]=i,r>a)||(n.bl_count[i]++,h=0,r>=v&&(h=w[r-v]),l=u[r*2],n.opt_len+=l*(i+h),p&&(n.static_len+=l*(y[r*2+1]+h)));if(c!==0){do{for(i=o-1;n.bl_count[i]===0;)i--;n.bl_count[i]--;n.bl_count[i+1]+=2;n.bl_count[o]--;c-=2}while(c>0);for(i=o;i!==0;i--)for(r=n.bl_count[i];r!==0;)(f=n.heap[--s],f>a)||(u[f*2+1]!==i&&(n.opt_len+=(i-u[f*2+1])*u[f*2],u[f*2+1]=i),r--)}}function gt(n,t,i){for(var o=new Array(e+1),s=0,u,f,r=1;r<=e;r++)o[r]=s=s+i[r-1]<<1;for(u=0;u<=t;u++)(f=n[u*2+1],f!==0)&&(n[u*2]=dt(o[f]++,f))}function wi(){for(var n,u,i,r=new Array(e+1),o=0,t=0;t<k-1;t++)for(b[t]=o,n=0;n<1<<tt[t];n++)l[o++]=t;for(l[o-1]=t,i=0,t=0;t<16;t++)for(y[t]=i,n=0;n<1<<w[t];n++)c[i++]=t;for(i>>=7;t<s;t++)for(y[t]=i<<7,n=0;n<1<<w[t]-7;n++)c[256+i++]=t;for(u=0;u<=e;u++)r[u]=0;for(n=0;n<=143;)f[n*2+1]=8,n++,r[8]++;while(n<=255)f[n*2+1]=9,n++,r[9]++;while(n<=279)f[n*2+1]=7,n++,r[7]++;while(n<=287)f[n*2+1]=8,n++,r[8]++;for(gt(f,v+1,r),n=0;n<s;n++)h[n*2+1]=5,h[n*2]=dt(n,5);pt=new it(f,tt,a+1,v,e);wt=new it(h,w,0,s,e);bt=new it(new Array(0),vi,0,d,ai)}function ni(n){for(var t=0;t<v;t++)n.dyn_ltree[t*2]=0;for(t=0;t<s;t++)n.dyn_dtree[t*2]=0;for(t=0;t<d;t++)n.bl_tree[t*2]=0;n.dyn_ltree[nt*2]=1;n.opt_len=n.static_len=0;n.last_lit=n.matches=0}function ti(n){n.bi_valid>8?p(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf);n.bi_buf=0;n.bi_valid=0}function bi(n,t,i,r){ti(n);r&&(p(n,i),p(n,~i));oi.arraySet(n.pending_buf,n.window,t,i,n.pending);n.pending+=i}function ii(n,t,i,r){var u=t*2,f=i*2;return n[u]<n[f]||n[u]===n[f]&&r[t]<=r[i]}function ut(n,t,i){for(var u=n.heap[i],r=i<<1;r<=n.heap_len;){if(r<n.heap_len&&ii(t,n.heap[r+1],n.heap[r],n.depth)&&r++,ii(t,u,n.heap[r],n.depth))break;n.heap[i]=n.heap[r];i=r;r<<=1}n.heap[i]=u}function ri(n,t,i){var e,s,h=0,f,o;if(n.last_lit!==0)do e=n.pending_buf[n.d_buf+h*2]<<8|n.pending_buf[n.d_buf+h*2+1],s=n.pending_buf[n.l_buf+h],h++,e===0?u(n,s,t):(f=l[s],u(n,f+a+1,t),o=tt[f],o!==0&&(s-=b[f],r(n,s,o)),e--,f=kt(e),u(n,f,i),o=w[f],o!==0&&(e-=y[f],r(n,e,o)));while(h<n.last_lit);u(n,nt,t)}function ft(n,t){var r=t.dyn_tree,s=t.stat_desc.static_tree,h=t.stat_desc.has_stree,o=t.stat_desc.elems,i,f,e=-1,u;for(n.heap_len=0,n.heap_max=ct,i=0;i<o;i++)r[i*2]!==0?(n.heap[++n.heap_len]=e=i,n.depth[i]=0):r[i*2+1]=0;while(n.heap_len<2)u=n.heap[++n.heap_len]=e<2?++e:0,r[u*2]=1,n.depth[u]=0,n.opt_len--,h&&(n.static_len-=s[u*2+1]);for(t.max_code=e,i=n.heap_len>>1;i>=1;i--)ut(n,r,i);u=o;do i=n.heap[1],n.heap[1]=n.heap[n.heap_len--],ut(n,r,1),f=n.heap[1],n.heap[--n.heap_max]=i,n.heap[--n.heap_max]=f,r[u*2]=r[i*2]+r[f*2],n.depth[u]=(n.depth[i]>=n.depth[f]?n.depth[i]:n.depth[f])+1,r[i*2+1]=r[f*2+1]=u,n.heap[1]=u++,ut(n,r,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1];pi(n,t);gt(r,e,n.bl_count)}function ui(n,t,i){var s,h=-1,r,u=t[1],f=0,e=7,o=4;for(u===0&&(e=138,o=3),t[(i+1)*2+1]=65535,s=0;s<=i;s++){if(r=u,u=t[(s+1)*2+1],++f<e&&r===u)continue;else f<o?n.bl_tree[r*2]+=f:r!==0?(r!==h&&n.bl_tree[r*2]++,n.bl_tree[lt*2]++):f<=10?n.bl_tree[at*2]++:n.bl_tree[vt*2]++;f=0;h=r;u===0?(e=138,o=3):r===u?(e=6,o=3):(e=7,o=4)}}function fi(n,t,i){var c,l=-1,e,o=t[1],f=0,s=7,h=4;for(o===0&&(s=138,h=3),c=0;c<=i;c++){if(e=o,o=t[(c+1)*2+1],++f<s&&e===o)continue;else if(f<h){do u(n,e,n.bl_tree);while(--f!=0)}else e!==0?(e!==l&&(u(n,e,n.bl_tree),f--),u(n,lt,n.bl_tree),r(n,f-3,2)):f<=10?(u(n,at,n.bl_tree),r(n,f-3,3)):(u(n,vt,n.bl_tree),r(n,f-11,7));f=0;l=e;o===0?(s=138,h=3):e===o?(s=6,h=3):(s=7,h=4)}}function ki(n){var t;for(ui(n,n.dyn_ltree,n.l_desc.max_code),ui(n,n.dyn_dtree,n.d_desc.max_code),ft(n,n.bl_desc),t=d-1;t>=3;t--)if(n.bl_tree[yt[t]*2+1]!==0)break;return n.opt_len+=3*(t+1)+5+5+4,t}function di(n,t,i,u){var f;for(r(n,t-257,5),r(n,i-1,5),r(n,u-4,4),f=0;f<u;f++)r(n,n.bl_tree[yt[f]*2+1],3);fi(n,n.dyn_ltree,t-1);fi(n,n.dyn_dtree,i-1)}function gi(n){for(var i=4093624447,t=0;t<=31;t++,i>>>=1)if(i&1&&n.dyn_ltree[t*2]!==0)return ot;if(n.dyn_ltree[18]!==0||n.dyn_ltree[20]!==0||n.dyn_ltree[26]!==0)return st;for(t=32;t<a;t++)if(n.dyn_ltree[t*2]!==0)return st;return ot}function nr(n){et||(wi(),et=!0);n.l_desc=new rt(n.dyn_ltree,pt);n.d_desc=new rt(n.dyn_dtree,wt);n.bl_desc=new rt(n.bl_tree,bt);n.bi_buf=0;n.bi_valid=0;ni(n)}function ei(n,t,i,u){r(n,(ci<<1)+(u?1:0),3);bi(n,t,i,!0)}function tr(n){r(n,ht<<1,3);u(n,nt,f);yi(n)}function ir(n,t,i,u){var e,o,s=0;n.level>0?(n.strm.data_type===hi&&(n.strm.data_type=gi(n)),ft(n,n.l_desc),ft(n,n.d_desc),s=ki(n),e=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=e&&(e=o)):e=o=i+5;i+4<=e&&t!==-1?ei(n,t,i,u):n.strategy===si||o===e?(r(n,(ht<<1)+(u?1:0),3),ri(n,f,h)):(r(n,(li<<1)+(u?1:0),3),di(n,n.l_desc.max_code+1,n.d_desc.max_code+1,s+1),ri(n,n.dyn_ltree,n.dyn_dtree));ni(n);u&&ti(n)}function rr(n,t,i){return n.pending_buf[n.d_buf+n.last_lit*2]=t>>>8&255,n.pending_buf[n.d_buf+n.last_lit*2+1]=t&255,n.pending_buf[n.l_buf+n.last_lit]=i&255,n.last_lit++,t===0?n.dyn_ltree[i*2]++:(n.matches++,t--,n.dyn_ltree[(l[i]+a+1)*2]++,n.dyn_dtree[kt(t)*2]++),n.last_lit===n.lit_bufsize-1}var oi=i(15),si=4,ot=0,st=1,hi=2,ci=0,ht=1,li=2,k=29,a=256,v=a+1+k,s=30,d=19,ct=2*v+1,e=15,g=16,ai=7,nt=256,lt=16,at=17,vt=18,tt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],vi=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],yt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array((v+2)*2),h,c,l,b,y,pt,wt,bt,et;o(f);h=new Array(s*2);o(h);c=new Array(512);o(c);l=new Array(256);o(l);b=new Array(k);o(b);y=new Array(s);o(y);et=!1;t._tr_init=nr;t._tr_stored_block=ei;t._tr_flush_block=ir;t._tr_tally=rr;t._tr_align=tr},function(n,t,i){"use strict";function oi(n){return(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24)}function rr(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new u.Buf16(320);this.work=new u.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function si(n){var t;return!n||!n.state?f:(t=n.state,n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=et,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new u.Buf32(nr),t.distcode=t.distdyn=new u.Buf32(tr),t.sane=1,t.back=-1,s)}function hi(n){var t;return!n||!n.state?f:(t=n.state,t.wsize=0,t.whave=0,t.wnext=0,si(n))}function ci(n,t){var r,i;return!n||!n.state?f:(i=n.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?f:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,hi(n))}function li(n,t){var i,r;return n?(r=new rr,n.state=r,r.window=null,i=ci(n,t),i!==s&&(n.state=null),i):f}function ur(n){return li(n,ir)}function fr(n){if(ai){var t;for(g=new u.Buf32(512),nt=new u.Buf32(32),t=0;t<144;)n.lens[t++]=8;while(t<256)n.lens[t++]=9;while(t<280)n.lens[t++]=7;while(t<288)n.lens[t++]=8;for(h(tt,n.lens,0,288,g,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;h(it,n.lens,0,32,nt,0,n.work,{bits:5});ai=!1}n.lencode=g;n.lenbits=9;n.distcode=nt;n.distbits=5}function vi(n,t,i,r){var e,f=n.state;return f.window===null&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new u.Buf8(f.wsize)),r>=f.wsize?(u.arraySet(f.window,t,i-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>r&&(e=r),u.arraySet(f.window,t,i-r,e,f.wnext),r-=e,r?(u.arraySet(f.window,t,i-r,r,0),f.wnext=r,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function er(n,t){var i,li,lr,ci,hr,si,rr,nt,g,yr,nr,hi,pr,kr,tr=0,ai,er,sr,or,wr,br,ir,cr,ur=new u.Buf8(4),vr,ar,dr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!n||!n.state||!n.output||!n.input&&n.avail_in!==0)return f;i=n.state;i.mode===o&&(i.mode=w);hr=n.next_out;lr=n.output;rr=n.avail_out;ci=n.next_in;li=n.input;si=n.avail_in;nt=i.hold;g=i.bits;yr=si;nr=rr;cr=s;n:for(;;)switch(i.mode){case et:if(i.wrap===0){i.mode=w;break}while(g<16){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(i.wrap&2&&nt===35615){i.check=0;ur[0]=nt&255;ur[1]=nt>>>8&255;i.check=e(i.check,ur,2,0);nt=0;g=0;i.mode=ot;break}if(i.flags=0,i.head&&(i.head.done=!1),!(i.wrap&1)||(((nt&255)<<8)+(nt>>8))%31){n.msg="incorrect header check";i.mode=r;break}if((nt&15)!==ft){n.msg="unknown compression method";i.mode=r;break}if(nt>>>=4,g-=4,ir=(nt&15)+8,i.wbits===0)i.wbits=ir;else if(ir>i.wbits){n.msg="invalid window size";i.mode=r;break}i.dmax=1<<ir;n.adler=i.check=1;i.mode=nt&512?pt:o;nt=0;g=0;break;case ot:while(g<16){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(i.flags=nt,(i.flags&255)!==ft){n.msg="unknown compression method";i.mode=r;break}if(i.flags&57344){n.msg="unknown header flags set";i.mode=r;break}i.head&&(i.head.text=nt>>8&1);i.flags&512&&(ur[0]=nt&255,ur[1]=nt>>>8&255,i.check=e(i.check,ur,2,0));nt=0;g=0;i.mode=st;case st:while(g<32){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.head&&(i.head.time=nt);i.flags&512&&(ur[0]=nt&255,ur[1]=nt>>>8&255,ur[2]=nt>>>16&255,ur[3]=nt>>>24&255,i.check=e(i.check,ur,4,0));nt=0;g=0;i.mode=ht;case ht:while(g<16){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.head&&(i.head.xflags=nt&255,i.head.os=nt>>8);i.flags&512&&(ur[0]=nt&255,ur[1]=nt>>>8&255,i.check=e(i.check,ur,2,0));nt=0;g=0;i.mode=ct;case ct:if(i.flags&1024){while(g<16){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.length=nt;i.head&&(i.head.extra_len=nt);i.flags&512&&(ur[0]=nt&255,ur[1]=nt>>>8&255,i.check=e(i.check,ur,2,0));nt=0;g=0}else i.head&&(i.head.extra=null);i.mode=lt;case lt:if(i.flags&1024&&(hi=i.length,hi>si&&(hi=si),hi&&(i.head&&(ir=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),u.arraySet(i.head.extra,li,ci,hi,ir)),i.flags&512&&(i.check=e(i.check,li,hi,ci)),si-=hi,ci+=hi,i.length-=hi),i.length))break n;i.length=0;i.mode=at;case at:if(i.flags&2048){if(si===0)break n;hi=0;do ir=li[ci+hi++],i.head&&ir&&i.length<65536&&(i.head.name+=String.fromCharCode(ir));while(ir&&hi<si);if(i.flags&512&&(i.check=e(i.check,li,hi,ci)),si-=hi,ci+=hi,ir)break n}else i.head&&(i.head.name=null);i.length=0;i.mode=vt;case vt:if(i.flags&4096){if(si===0)break n;hi=0;do ir=li[ci+hi++],i.head&&ir&&i.length<65536&&(i.head.comment+=String.fromCharCode(ir));while(ir&&hi<si);if(i.flags&512&&(i.check=e(i.check,li,hi,ci)),si-=hi,ci+=hi,ir)break n}else i.head&&(i.head.comment=null);i.mode=yt;case yt:if(i.flags&512){while(g<16){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(nt!==(i.check&65535)){n.msg="header crc mismatch";i.mode=r;break}nt=0;g=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0);n.adler=i.check=0;i.mode=o;break;case pt:while(g<32){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}n.adler=i.check=oi(nt);nt=0;g=0;i.mode=l;case l:if(i.havedict===0)return n.next_out=hr,n.avail_out=rr,n.next_in=ci,n.avail_in=si,i.hold=nt,i.bits=g,ki;n.adler=i.check=1;i.mode=o;case o:if(t===wi||t===c)break n;case w:if(i.last){nt>>>=g&7;g-=g&7;i.mode=k;break}while(g<3){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.last=nt&1;nt>>>=1;g-=1;switch(nt&3){case 0:i.mode=wt;break;case 1:if(fr(i),i.mode=a,t===c){nt>>>=2;g-=2;break n}break;case 2:i.mode=kt;break;case 3:n.msg="invalid block type";i.mode=r}nt>>>=2;g-=2;break;case wt:for(nt>>>=g&7,g-=g&7;g<32;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if((nt&65535)!=(nt>>>16^65535)){n.msg="invalid stored block lengths";i.mode=r;break}if(i.length=nt&65535,nt=0,g=0,i.mode=b,t===c)break n;case b:i.mode=bt;case bt:if(hi=i.length,hi){if(hi>si&&(hi=si),hi>rr&&(hi=rr),hi===0)break n;u.arraySet(lr,li,ci,hi,hr);si-=hi;ci+=hi;rr-=hi;hr+=hi;i.length-=hi;break}i.mode=o;break;case kt:while(g<14){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(i.nlen=(nt&31)+257,nt>>>=5,g-=5,i.ndist=(nt&31)+1,nt>>>=5,g-=5,i.ncode=(nt&15)+4,nt>>>=4,g-=4,i.nlen>286||i.ndist>30){n.msg="too many length or distance symbols";i.mode=r;break}i.have=0;i.mode=dt;case dt:while(i.have<i.ncode){while(g<3){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.lens[dr[i.have++]]=nt&7;nt>>>=3;g-=3}while(i.have<19)i.lens[dr[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,vr={bits:i.lenbits},cr=h(pi,i.lens,0,19,i.lencode,0,i.work,vr),i.lenbits=vr.bits,cr){n.msg="invalid code lengths set";i.mode=r;break}i.have=0;i.mode=gt;case gt:while(i.have<i.nlen+i.ndist){for(;;){if(tr=i.lencode[nt&(1<<i.lenbits)-1],ai=tr>>>24,er=tr>>>16&255,sr=tr&65535,ai<=g)break;if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(sr<16)nt>>>=ai,g-=ai,i.lens[i.have++]=sr;else{if(sr===16){for(ar=ai+2;g<ar;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(nt>>>=ai,g-=ai,i.have===0){n.msg="invalid bit length repeat";i.mode=r;break}ir=i.lens[i.have-1];hi=3+(nt&3);nt>>>=2;g-=2}else if(sr===17){for(ar=ai+3;g<ar;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}nt>>>=ai;g-=ai;ir=0;hi=3+(nt&7);nt>>>=3;g-=3}else{for(ar=ai+7;g<ar;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}nt>>>=ai;g-=ai;ir=0;hi=11+(nt&127);nt>>>=7;g-=7}if(i.have+hi>i.nlen+i.ndist){n.msg="invalid bit length repeat";i.mode=r;break}while(hi--)i.lens[i.have++]=ir}}if(i.mode===r)break;if(i.lens[256]===0){n.msg="invalid code -- missing end-of-block";i.mode=r;break}if(i.lenbits=9,vr={bits:i.lenbits},cr=h(tt,i.lens,0,i.nlen,i.lencode,0,i.work,vr),i.lenbits=vr.bits,cr){n.msg="invalid literal/lengths set";i.mode=r;break}if(i.distbits=6,i.distcode=i.distdyn,vr={bits:i.distbits},cr=h(it,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,vr),i.distbits=vr.bits,cr){n.msg="invalid distances set";i.mode=r;break}if(i.mode=a,t===c)break n;case a:i.mode=v;case v:if(si>=6&&rr>=258){n.next_out=hr;n.avail_out=rr;n.next_in=ci;n.avail_in=si;i.hold=nt;i.bits=g;yi(n,nr);hr=n.next_out;lr=n.output;rr=n.avail_out;ci=n.next_in;li=n.input;si=n.avail_in;nt=i.hold;g=i.bits;i.mode===o&&(i.back=-1);break}for(i.back=0;;){if(tr=i.lencode[nt&(1<<i.lenbits)-1],ai=tr>>>24,er=tr>>>16&255,sr=tr&65535,ai<=g)break;if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(er&&(er&240)==0){for(or=ai,wr=er,br=sr;;){if(tr=i.lencode[br+((nt&(1<<or+wr)-1)>>or)],ai=tr>>>24,er=tr>>>16&255,sr=tr&65535,or+ai<=g)break;if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}nt>>>=or;g-=or;i.back+=or}if(nt>>>=ai,g-=ai,i.back+=ai,i.length=sr,er===0){i.mode=ui;break}if(er&32){i.back=-1;i.mode=o;break}if(er&64){n.msg="invalid literal/length code";i.mode=r;break}i.extra=er&15;i.mode=ni;case ni:if(i.extra){for(ar=i.extra;g<ar;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.length+=nt&(1<<i.extra)-1;nt>>>=i.extra;g-=i.extra;i.back+=i.extra}i.was=i.length;i.mode=ti;case ti:for(;;){if(tr=i.distcode[nt&(1<<i.distbits)-1],ai=tr>>>24,er=tr>>>16&255,sr=tr&65535,ai<=g)break;if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if((er&240)==0){for(or=ai,wr=er,br=sr;;){if(tr=i.distcode[br+((nt&(1<<or+wr)-1)>>or)],ai=tr>>>24,er=tr>>>16&255,sr=tr&65535,or+ai<=g)break;if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}nt>>>=or;g-=or;i.back+=or}if(nt>>>=ai,g-=ai,i.back+=ai,er&64){n.msg="invalid distance code";i.mode=r;break}i.offset=sr;i.extra=er&15;i.mode=ii;case ii:if(i.extra){for(ar=i.extra;g<ar;){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}i.offset+=nt&(1<<i.extra)-1;nt>>>=i.extra;g-=i.extra;i.back+=i.extra}if(i.offset>i.dmax){n.msg="invalid distance too far back";i.mode=r;break}i.mode=ri;case ri:if(rr===0)break n;if(hi=nr-rr,i.offset>hi){if(hi=i.offset-hi,hi>i.whave&&i.sane){n.msg="invalid distance too far back";i.mode=r;break}hi>i.wnext?(hi-=i.wnext,pr=i.wsize-hi):pr=i.wnext-hi;hi>i.length&&(hi=i.length);kr=i.window}else kr=lr,pr=hr-i.offset,hi=i.length;hi>rr&&(hi=rr);rr-=hi;i.length-=hi;do lr[hr++]=kr[pr++];while(--hi);i.length===0&&(i.mode=v);break;case ui:if(rr===0)break n;lr[hr++]=i.length;rr--;i.mode=v;break;case k:if(i.wrap){while(g<32){if(si===0)break n;si--;nt|=li[ci++]<<g;g+=8}if(nr-=rr,n.total_out+=nr,i.total+=nr,nr&&(n.adler=i.check=i.flags?e(i.check,lr,nr,hr-nr):y(i.check,lr,nr,hr-nr)),nr=rr,(i.flags?nt:oi(nt))!==i.check){n.msg="incorrect data check";i.mode=r;break}nt=0;g=0}i.mode=fi;case fi:if(i.wrap&&i.flags){while(g<32){if(si===0)break n;si--;nt+=li[ci++]<<g;g+=8}if(nt!==(i.total&4294967295)){n.msg="incorrect length check";i.mode=r;break}nt=0;g=0}i.mode=ei;case ei:cr=bi;break n;case r:cr=ut;break n;case d:return p;case gi:default:return f}return(n.next_out=hr,n.avail_out=rr,n.next_in=ci,n.avail_in=si,i.hold=nt,i.bits=g,(i.wsize||nr!==n.avail_out&&i.mode<r&&(i.mode<k||t!==rt))&&vi(n,n.output,n.next_out,nr-n.avail_out))?(i.mode=d,p):(yr-=n.avail_in,nr-=n.avail_out,n.total_in+=yr,n.total_out+=nr,i.total+=nr,i.wrap&&nr&&(n.adler=i.check=i.flags?e(i.check,lr,nr,n.next_out-nr):y(i.check,lr,nr,n.next_out-nr)),n.data_type=i.bits+(i.last?64:0)+(i.mode===o?128:0)+(i.mode===a||i.mode===b?256:0),(yr===0&&nr===0||t===rt)&&cr===s&&(cr=di),cr)}function or(n){if(!n||!n.state)return f;var t=n.state;return t.window&&(t.window=null),n.state=null,s}function sr(n,t){var i;return!n||!n.state?f:(i=n.state,(i.wrap&2)==0)?f:(i.head=t,t.done=!1,s)}function hr(n,t){var u=t.length,i,r,e;return!n||!n.state?f:(i=n.state,i.wrap!==0&&i.mode!==l)?f:i.mode===l&&(r=1,r=y(r,t,u,0),r!==i.check)?ut:(e=vi(n,t,u,u),e)?(i.mode=d,p):(i.havedict=1,s)}var u=i(15),y=i(39),e=i(40),yi=i(68),h=i(69),pi=0,tt=1,it=2,rt=4,wi=5,c=6,s=0,bi=1,ki=2,f=-2,ut=-3,p=-4,di=-5,ft=8,et=1,ot=2,st=3,ht=4,ct=5,lt=6,at=7,vt=8,yt=9,pt=10,l=11,o=12,w=13,wt=14,b=15,bt=16,kt=17,dt=18,gt=19,a=20,v=21,ni=22,ti=23,ii=24,ri=25,ui=26,k=27,fi=28,ei=29,r=30,d=31,gi=32,nr=852,tr=592,ir=15,ai=!0,g,nt;t.inflateReset=hi;t.inflateReset2=ci;t.inflateResetKeep=si;t.inflateInit=ur;t.inflateInit2=li;t.inflate=er;t.inflateEnd=or;t.inflateGetHeader=sr;t.inflateSetDictionary=hr;t.inflateInfo="pako inflate (from Nodeca project)"},function(n){"use strict";var t=30,i=12;n.exports=function(n,r){var c,a,d,f,rt,g,ut,nt,ft,w,k,l,e,tt,it,et,ot,v,u,h,y,s,p,b,o;c=n.state;a=n.next_in;b=n.input;d=a+(n.avail_in-5);f=n.next_out;o=n.output;rt=f-(r-n.avail_out);g=f+(n.avail_out-257);ut=c.dmax;nt=c.wsize;ft=c.whave;w=c.wnext;k=c.window;l=c.hold;e=c.bits;tt=c.lencode;it=c.distcode;et=(1<<c.lenbits)-1;ot=(1<<c.distbits)-1;n:do{e<15&&(l+=b[a++]<<e,e+=8,l+=b[a++]<<e,e+=8);v=tt[l&et];t:for(;;){if(u=v>>>24,l>>>=u,e-=u,u=v>>>16&255,u===0)o[f++]=v&65535;else if(u&16){h=v&65535;u&=15;u&&(e<u&&(l+=b[a++]<<e,e+=8),h+=l&(1<<u)-1,l>>>=u,e-=u);e<15&&(l+=b[a++]<<e,e+=8,l+=b[a++]<<e,e+=8);v=it[l&ot];i:for(;;){if(u=v>>>24,l>>>=u,e-=u,u=v>>>16&255,u&16){if(y=v&65535,u&=15,e<u&&(l+=b[a++]<<e,e+=8,e<u&&(l+=b[a++]<<e,e+=8)),y+=l&(1<<u)-1,y>ut){n.msg="invalid distance too far back";c.mode=t;break n}if(l>>>=u,e-=u,u=f-rt,y>u){if(u=y-u,u>ft&&c.sane){n.msg="invalid distance too far back";c.mode=t;break n}if(s=0,p=k,w===0){if(s+=nt-u,u<h){h-=u;do o[f++]=k[s++];while(--u);s=f-y;p=o}}else if(w<u){if(s+=nt+w-u,u-=w,u<h){h-=u;do o[f++]=k[s++];while(--u);if(s=0,w<h){u=w;h-=u;do o[f++]=k[s++];while(--u);s=f-y;p=o}}}else if(s+=w-u,u<h){h-=u;do o[f++]=k[s++];while(--u);s=f-y;p=o}while(h>2)o[f++]=p[s++],o[f++]=p[s++],o[f++]=p[s++],h-=3;h&&(o[f++]=p[s++],h>1&&(o[f++]=p[s++]))}else{s=f-y;do o[f++]=o[s++],o[f++]=o[s++],o[f++]=o[s++],h-=3;while(h>2);h&&(o[f++]=o[s++],h>1&&(o[f++]=o[s++]))}}else if((u&64)==0){v=it[(v&65535)+(l&(1<<u)-1)];continue i}else{n.msg="invalid distance code";c.mode=t;break n}break}}else if((u&64)==0){v=tt[(v&65535)+(l&(1<<u)-1)];continue t}else if(u&32){c.mode=i;break n}else{n.msg="invalid literal/length code";c.mode=t;break n}break}}while(a<d&&f<g);h=e>>3;a-=h;e-=h<<3;l&=(1<<e)-1;n.next_in=a;n.next_out=f;n.avail_in=a<d?5+(d-a):5-(a-d);n.avail_out=f<g?257+(g-f):257-(f-g);c.hold=l;c.bits=e;return}},function(n,t,i){"use strict";var f=i(15),r=15,e=852,o=592,s=0,u=1,h=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(n,t,i,y,p,w,b,k){for(var ri=k.bits,d=0,g=0,ut=0,nt=0,tt=0,ft=0,it=0,et=0,ht=0,rt=0,ot,ct,vt,dt,lt,yt=null,gt=0,at,st=new f.Buf16(r+1),pt=new f.Buf16(r+1),wt=null,ni=0,ti,bt,kt,ii,d=0;d<=r;d++)st[d]=0;for(g=0;g<y;g++)st[t[i+g]]++;for(tt=ri,nt=r;nt>=1;nt--)if(st[nt]!==0)break;if(tt>nt&&(tt=nt),nt===0)return p[w++]=20971520,p[w++]=20971520,k.bits=1,0;for(ut=1;ut<nt;ut++)if(st[ut]!==0)break;for(tt<ut&&(tt=ut),et=1,d=1;d<=r;d++)if(et<<=1,et-=st[d],et<0)return-1;if(et>0&&(n===s||nt!==1))return-1;for(pt[1]=0,d=1;d<r;d++)pt[d+1]=pt[d]+st[d];for(g=0;g<y;g++)t[i+g]!==0&&(b[pt[t[i+g]]++]=g);if(n===s?(yt=wt=b,at=19):n===u?(yt=c,gt-=257,wt=l,ni-=257,at=256):(yt=a,wt=v,at=-1),rt=0,g=0,d=ut,lt=w,ft=tt,it=0,vt=-1,ht=1<<tt,dt=ht-1,n===u&&ht>e||n===h&&ht>o)return 1;for(ii=0;;){ii++;ti=d-it;b[g]<at?(bt=0,kt=b[g]):b[g]>at?(bt=wt[ni+b[g]],kt=yt[gt+b[g]]):(bt=96,kt=0);ot=1<<d-it;ct=1<<ft;ut=ct;do ct-=ot,p[lt+(rt>>it)+ct]=ti<<24|bt<<16|kt|0;while(ct!==0);for(ot=1<<d-1;rt&ot;)ot>>=1;if(ot!==0?(rt&=ot-1,rt+=ot):rt=0,g++,--st[d]==0){if(d===nt)break;d=t[i+b[g]]}if(d>tt&&(rt&dt)!==vt){for(it===0&&(it=tt),lt+=ut,ft=d-it,et=1<<ft;ft+it<nt;){if(et-=st[ft+it],et<=0)break;ft++;et<<=1}if(ht+=1<<ft,n===u&&ht>e||n===h&&ht>o)return 1;vt=rt&dt;p[vt]=tt<<24|ft<<16|lt-w|0}}return rt!==0&&(p[lt+rt]=d-it<<24|4194304),k.bits=tt,0}},function(n){"use strict";n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(n){n.exports=function(n){return n&&typeof n=="object"&&typeof n.copy=="function"&&typeof n.fill=="function"&&typeof n.readUInt8=="function"}},function(n){n.exports=typeof Object.create=="function"?function(n,t){n.super_=t;n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,t){n.super_=t;var i=function(){};i.prototype=t.prototype;n.prototype=new i;n.prototype.constructor=n}},function(n,t,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function h(n,t){var r,u,i,f;if(n===t)return 0;for(r=n.length,u=t.length,i=0,f=Math.min(r,u);i<f;++i)if(n[i]!==t[i]){r=n[i];u=t[i];break}return r<u?-1:u<r?1:0}function o(n){return t.Buffer&&typeof t.Buffer.isBuffer=="function"?t.Buffer.isBuffer(n):!!(n!=null&&n._isBuffer)}function a(n){return Object.prototype.toString.call(n)}function v(n){return o(n)?!1:typeof t.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n?n instanceof DataView?!0:n.buffer&&n.buffer instanceof ArrayBuffer?!0:!1:!1}function y(n){if(f.isFunction(n)){if(l)return n.name;var i=n.toString(),t=i.match(it);return t&&t[1]}}function p(n,t){return typeof n=="string"?n.length<t?n:n.slice(0,t):n}function w(n){if(l||!f.isFunction(n))return f.inspect(n);var t=y(n),i=t?": "+t:"";return"[Function"+i+"]"}function rt(n){return p(w(n.actual),128)+" "+n.operator+" "+p(w(n.expected),128)}function u(n,t,i,u,f){throw new r.AssertionError({message:i,actual:n,expected:t,operator:u,stackStartFunction:f});}function b(n,t){n||u(n,!0,t,"==",r.ok)}function e(n,t,i,r){if(n===t)return!0;if(o(n)&&o(t))return h(n,t)===0;if(f.isDate(n)&&f.isDate(t))return n.getTime()===t.getTime();if(f.isRegExp(n)&&f.isRegExp(t))return n.source===t.source&&n.global===t.global&&n.multiline===t.multiline&&n.lastIndex===t.lastIndex&&n.ignoreCase===t.ignoreCase;if((n===null||typeof n!="object")&&(t===null||typeof t!="object"))return i?n===t:n==t;if(!v(n)||!v(t)||a(n)!==a(t)||n instanceof Float32Array||n instanceof Float64Array){if(o(n)!==o(t))return!1;r=r||{actual:[],expected:[]};var u=r.actual.indexOf(n);return u!==-1&&u===r.expected.indexOf(t)?!0:(r.actual.push(n),r.expected.push(t),ut(n,t,i,r))}return h(new Uint8Array(n.buffer),new Uint8Array(t.buffer))===0}function k(n){return Object.prototype.toString.call(n)=="[object Arguments]"}function ut(n,t,i,r){var h,a,o,l,v,u;if(n===null||n===undefined||t===null||t===undefined)return!1;if(f.isPrimitive(n)||f.isPrimitive(t))return n===t;if(i&&Object.getPrototypeOf(n)!==Object.getPrototypeOf(t)||(h=k(n),a=k(t),h&&!a||!h&&a))return!1;if(h)return n=c.call(n),t=c.call(t),e(n,t,i);if(o=s(n),l=s(t),o.length!==l.length)return!1;for(o.sort(),l.sort(),u=o.length-1;u>=0;u--)if(o[u]!==l[u])return!1;for(u=o.length-1;u>=0;u--)if(v=o[u],!e(n[v],t[v],i,r))return!1;return!0}function d(n,t,i){e(n,t,!0)&&u(n,t,i,"notDeepStrictEqual",d)}function g(n,t){if(!n||!t)return!1;if(Object.prototype.toString.call(t)=="[object RegExp]")return t.test(n);try{if(n instanceof t)return!0}catch(i){}return Error.isPrototypeOf(t)?!1:t.call({},n)===!0}function ft(n){var t;try{n()}catch(i){t=i}return t}function nt(n,t,i,r){var e;if(typeof t!="function")throw new TypeError('"block" argument must be a function');typeof i=="string"&&(r=i,i=null);e=ft(t);r=(i&&i.name?" ("+i.name+").":".")+(r?" "+r:".");n&&!e&&u(e,i,"Missing expected exception"+r);var o=typeof r=="string",s=!n&&f.isError(e),h=!n&&e&&!i;if((s&&o&&g(e,i)||h)&&u(e,i,"Got unwanted exception"+r),n&&e&&i&&!g(e,i)||!n&&e)throw e;}var f=i(41),tt=Object.prototype.hasOwnProperty,c=Array.prototype.slice,l=function(){return function(){}.name==="foo"}(),r=n.exports=b,it=/\s*function\s+([^\(\s]*)\s*/,s;r.AssertionError=function(n){var i,r,e;if(this.name="AssertionError",this.actual=n.actual,this.expected=n.expected,this.operator=n.operator,n.message?(this.message=n.message,this.generatedMessage=!1):(this.message=rt(this),this.generatedMessage=!0),i=n.stackStartFunction||u,Error.captureStackTrace)Error.captureStackTrace(this,i);else if(r=new Error,r.stack){var t=r.stack,o=y(i),f=t.indexOf("\n"+o);f>=0&&(e=t.indexOf("\n",f+1),t=t.substring(e+1));this.stack=t}};f.inherits(r.AssertionError,Error);r.fail=u;r.ok=b;r.equal=function(n,t,i){n!=t&&u(n,t,i,"==",r.equal)};r.notEqual=function(n,t,i){n==t&&u(n,t,i,"!=",r.notEqual)};r.deepEqual=function(n,t,i){e(n,t,!1)||u(n,t,i,"deepEqual",r.deepEqual)};r.deepStrictEqual=function(n,t,i){e(n,t,!0)||u(n,t,i,"deepStrictEqual",r.deepStrictEqual)};r.notDeepEqual=function(n,t,i){e(n,t,!1)&&u(n,t,i,"notDeepEqual",r.notDeepEqual)};r.notDeepStrictEqual=d;r.strictEqual=function(n,t,i){n!==t&&u(n,t,i,"===",r.strictEqual)};r.notStrictEqual=function(n,t,i){n===t&&u(n,t,i,"!==",r.notStrictEqual)};r.throws=function(n,t,i){nt(!0,n,t,i)};r.doesNotThrow=function(n,t,i){nt(!1,n,t,i)};r.ifError=function(n){if(n)throw n;};s=Object.keys||function(n){var t=[];for(var i in n)tt.call(n,i)&&t.push(i);return t}}).call(t,i(2))},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function h(n,t,i){if(r||(r=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),n===undefined)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(t===undefined)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(i===undefined)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if(t.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(t.encapsulatedPixelData!==!0)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(t.hadUndefinedLength!==!0)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(t.basicOffsetTable===undefined)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments===undefined)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(i<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return t.basicOffsetTable.length!==0?e.default(n,t,i):s.default(n,t,0,t.fragments.length)}var r;Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var f=i(42),e=u(f),o=i(22),s=u(o);r=!1}])});